<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | 技术学派</title>
    <meta name="description" content="Web前端技术、干货、教程、课程笔记">
    <link rel="icon" href="/favicon.ico">
  <meta name="robots" content="all">
  <meta name="author" content="likang">
  <meta name="keywords" content="Web全栈知识体系, web体系, web知识体系, web框架, web详解, web学习路线, web spring, web面试, 知识体系, web技术体系, web编程, web编程指南,web开发体系, web开发,web教程,web,web数据结构, 算法, 开发基础">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <script src="https://hm.baidu.com/hm.js?a2fd998a0322a08f10309f035d7009e1"></script>
    
    <link rel="preload" href="/assets/css/0.styles.c9eb7bf0.css" as="style"><link rel="preload" href="/assets/js/app.36f33a9d.js" as="script"><link rel="preload" href="/assets/js/2.d27f56d2.js" as="script"><link rel="preload" href="/assets/js/16.a660308b.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e6c66a.js"><link rel="prefetch" href="/assets/js/11.29746d89.js"><link rel="prefetch" href="/assets/js/12.0605b152.js"><link rel="prefetch" href="/assets/js/13.3b6be312.js"><link rel="prefetch" href="/assets/js/14.e0cf0d42.js"><link rel="prefetch" href="/assets/js/15.86f20d18.js"><link rel="prefetch" href="/assets/js/17.2c6ab243.js"><link rel="prefetch" href="/assets/js/18.e8ce1763.js"><link rel="prefetch" href="/assets/js/19.34c3af53.js"><link rel="prefetch" href="/assets/js/20.3fa7618a.js"><link rel="prefetch" href="/assets/js/21.4c157aad.js"><link rel="prefetch" href="/assets/js/22.47eb5636.js"><link rel="prefetch" href="/assets/js/23.cd435639.js"><link rel="prefetch" href="/assets/js/24.990a63e1.js"><link rel="prefetch" href="/assets/js/25.47122bec.js"><link rel="prefetch" href="/assets/js/26.05b4f7ae.js"><link rel="prefetch" href="/assets/js/27.9ab1d9bc.js"><link rel="prefetch" href="/assets/js/28.50943c3b.js"><link rel="prefetch" href="/assets/js/29.bd08d43b.js"><link rel="prefetch" href="/assets/js/3.2c8e19c4.js"><link rel="prefetch" href="/assets/js/30.cd670f1e.js"><link rel="prefetch" href="/assets/js/31.fc962975.js"><link rel="prefetch" href="/assets/js/32.16de1a8c.js"><link rel="prefetch" href="/assets/js/33.5331101e.js"><link rel="prefetch" href="/assets/js/34.1df38d3f.js"><link rel="prefetch" href="/assets/js/35.2e0c63f6.js"><link rel="prefetch" href="/assets/js/4.e3d63e9c.js"><link rel="prefetch" href="/assets/js/5.0fc728f0.js"><link rel="prefetch" href="/assets/js/6.596668dc.js"><link rel="prefetch" href="/assets/js/7.5a102747.js"><link rel="prefetch" href="/assets/js/8.53b312d6.js"><link rel="prefetch" href="/assets/js/9.0ec4f429.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9eb7bf0.css">   
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">技术学派</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">主线课程大纲</a></div><div class="nav-item"><a href="/techs.html" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/nav.html" class="nav-link">网站导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端编码规范" class="dropdown-title"><span class="title">前端编码规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rules/html.html" class="nav-link">HTML 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/css.html" class="nav-link">CSS 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/js.html" class="nav-link">JavaScript 编码规范</a></li><li class="dropdown-item"><!----> <a href="/specification.html" class="nav-link">文档编写规范</a></li></ul></div></div><div class="nav-item"><a href="/tips.html" class="nav-link">学习建议</a></div><div class="nav-item"><a href="/discuss.html" class="nav-link">留言</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">主线课程大纲</a></div><div class="nav-item"><a href="/techs.html" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/nav.html" class="nav-link">网站导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端编码规范" class="dropdown-title"><span class="title">前端编码规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rules/html.html" class="nav-link">HTML 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/css.html" class="nav-link">CSS 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/js.html" class="nav-link">JavaScript 编码规范</a></li><li class="dropdown-item"><!----> <a href="/specification.html" class="nav-link">文档编写规范</a></li></ul></div></div><div class="nav-item"><a href="/tips.html" class="nav-link">学习建议</a></div><div class="nav-item"><a href="/discuss.html" class="nav-link">留言</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/ES6/#第一章-javascript的发展" class="sidebar-link">第一章 Javascript的发展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-js发展史" class="sidebar-link">第一节 js发展史</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第二节-javascript的语言存在的问题及解决方案" class="sidebar-link">第二节 Javascript的语言存在的问题及解决方案</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第三节-es6新增十大特性" class="sidebar-link">第三节 ES6新增十大特性</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第四节-严格模式" class="sidebar-link">第四节 严格模式</a></li></ul></li><li><a href="/notes/ES6/#第二章-数据的扩展" class="sidebar-link">第二章 数据的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-字符串扩展" class="sidebar-link">第一节 字符串扩展</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第二节-对象的扩展" class="sidebar-link">第二节 对象的扩展</a></li></ul></li><li><a href="/notes/ES6/#第三章-变量扩展" class="sidebar-link">第三章 变量扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-let指令" class="sidebar-link">第一节 let指令</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第二节-const指令" class="sidebar-link">第二节 const指令</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第三节-解构赋值" class="sidebar-link">第三节 解构赋值</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第四节-对集合的遍历" class="sidebar-link">第四节 对集合的遍历</a></li></ul></li><li><a href="/notes/ES6/#第三章-函数扩展" class="sidebar-link">第三章 函数扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-箭头函数" class="sidebar-link">第一节 箭头函数</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第二节-函数参数" class="sidebar-link">第二节 函数参数</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第三节-展开运算符" class="sidebar-link">第三节 展开运算符</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第四节-常用函数" class="sidebar-link">第四节 常用函数</a></li></ul></li><li><a href="/notes/ES6/#第四章-面向对象" class="sidebar-link">第四章 面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-类的概念" class="sidebar-link">第一节 类的概念</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第二节-javascript-实例面向对象的原始方法" class="sidebar-link">第二节  Javascript 实例面向对象的原始方法</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第三节-封装" class="sidebar-link">第三节 封装</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第九节-类" class="sidebar-link">第九节 类</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第四节-继承" class="sidebar-link">第四节 继承</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第五节-多态" class="sidebar-link">第五节 多态</a></li></ul></li><li><a href="/notes/ES6/#第五章-module模块化" class="sidebar-link">第五章 Module模块化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#export输出" class="sidebar-link">export输出</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#import输入" class="sidebar-link">import输入</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#浏览器支持" class="sidebar-link">浏览器支持</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#通过公共模块来共享变量" class="sidebar-link">通过公共模块来共享变量</a></li></ul></li><li><a href="/notes/ES6/#第六章-promise" class="sidebar-link">第六章 Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#异步函数的返回" class="sidebar-link">异步函数的返回</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#异步编程的回调地狱" class="sidebar-link">异步编程的回调地狱</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#promise-对象" class="sidebar-link">Promise 对象</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#then方法" class="sidebar-link">then方法</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#reject" class="sidebar-link">reject</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#catch" class="sidebar-link">catch</a></li></ul></li><li><a href="/notes/ES6/#第七章-网络请求" class="sidebar-link">第七章 网络请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#同步与异步" class="sidebar-link">同步与异步</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#axios" class="sidebar-link">Axios</a></li></ul></li><li><a href="/notes/ES6/#第八章-异步函数" class="sidebar-link">第八章 异步函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#async-函数" class="sidebar-link">async 函数</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#await" class="sidebar-link">await</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#扩展" class="sidebar-link">扩展</a></li></ul></li><li><a href="/notes/ES6/#第九章-数据结构扩展" class="sidebar-link">第九章 数据结构扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/ES6/#第一节-object新增方法" class="sidebar-link">第一节 Object新增方法</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第三节-array新增方法" class="sidebar-link">第三节 Array新增方法</a></li><li class="sidebar-sub-header"><a href="/notes/ES6/#第六节-新增数据结构" class="sidebar-link">第六节 新增数据结构</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h1> <h2 id="第一章-javascript的发展"><a href="#第一章-javascript的发展" class="header-anchor">#</a> 第一章 Javascript的发展</h2> <h3 id="第一节-js发展史"><a href="#第一节-js发展史" class="header-anchor">#</a> 第一节 js发展史</h3> <h4 id="战国时代"><a href="#战国时代" class="header-anchor">#</a> 战国时代</h4> <p>1995年 Netscape（网景） 发明了 LiveScript 后改名为JavaScript</p> <p>1996年，微软发布了 IE 3.0 并搭载了一个 JavaScript 的克隆版，叫做 JScript</p> <h4 id="一统江湖"><a href="#一统江湖" class="header-anchor">#</a> 一统江湖</h4> <p>ECMAScript：欧洲计算机制造商协会（<a href="https://www.ecma-international.org/" target="_blank" rel="noopener noreferrer">ECMA<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）通过<a href="https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf" target="_blank" rel="noopener noreferrer">ECMA-262<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>标准化的脚本程序设计语言</p> <p>1997年06月，ECMAScript 1.0版</p> <p>1998年06月，ECMAScript 2.0版</p> <p>1999年12月，ECMAScript 3.0版</p> <p>2007年10月，ECMAScript 4.0版（版本改变太激进，死了）</p> <p>2009年12月，ECMAScript 5.0版</p> <p>2011年06月，ECMAscript 5.1版发布，成为ISO/IEC（国际标准化组织及国际电工委员会）16262:2011）标准</p> <p>2015年06月17日，ECMAScript 6版，可以叫ECMAScript 6（ES6），也可以叫ECMAScript 2015（<a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener noreferrer">ES2015<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</p> <h4 id="未来发展"><a href="#未来发展" class="header-anchor">#</a> 未来发展</h4> <p>javascript未来将由<a href="http://www.ecma-international.org" target="_blank" rel="noopener noreferrer">ECMA<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>以每年一个版本的方式进行迭代更新，版本号也会按照年份来排序，<a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener noreferrer">ES2015<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="http://www.ecma-international.org/ecma-262/7.0/" target="_blank" rel="noopener noreferrer">ES2016<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>……</p> <h3 id="第二节-javascript的语言存在的问题及解决方案"><a href="#第二节-javascript的语言存在的问题及解决方案" class="header-anchor">#</a> 第二节 Javascript的语言存在的问题及解决方案</h3> <h4 id="javascript的语言存在的问题"><a href="#javascript的语言存在的问题" class="header-anchor">#</a> Javascript的语言存在的问题</h4> <ul><li>便捷但不规范。</li> <li>做为一个脚本语言便捷性不够强。</li> <li>没有完整的面向对象支持。</li> <li>弱类型更容易出Bug，不便于开发大型应用级项目。</li> <li>不支持模块化开发。</li></ul> <h4 id="解决渠道"><a href="#解决渠道" class="header-anchor">#</a> 解决渠道</h4> <ul><li>版本改进</li> <li>第三语言，如：CoffeeScript、TypeScript</li></ul> <h3 id="第三节-es6新增十大特性"><a href="#第三节-es6新增十大特性" class="header-anchor">#</a> 第三节 ES6新增十大特性</h3> <p>ES6为一些已有的功能提供了非破坏性更新，这类更新中的大部分我们可以理解为<strong>语法糖</strong>，这类新语法能做的事情其实用ES5也可以做。</p> <blockquote><p>语法糖（Syntactic sugar），也译为糖衣语法，是由英国计算机科学家彼得·约翰·兰达（Peter J. Landin）发明的一个术语，指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性，从而减少程序代码出错的机会。</p></blockquote> <table><thead><tr><th>No</th> <th>特性</th> <th>说明</th></tr></thead> <tbody><tr><td>1</td> <td>Default Parameters</td> <td>函数参数，可以有默认值</td></tr> <tr><td>2</td> <td>Template Literals</td> <td>模板文本</td></tr> <tr><td>3</td> <td>Multi-line Strings</td> <td>多行字符串</td></tr> <tr><td>4</td> <td>let、 const</td> <td>新增的声明变量关键字，支持块级作用域</td></tr> <tr><td>5</td> <td>Destructuring Assignment</td> <td>解构赋值</td></tr> <tr><td>6</td> <td>Enhanced Object Literals</td> <td>增强的对象</td></tr> <tr><td>7</td> <td>Arrow Functions</td> <td>箭头函数</td></tr> <tr><td>8</td> <td>Promises</td> <td>优化的异步操作</td></tr> <tr><td>9</td> <td>Classes</td> <td>类</td></tr> <tr><td>10</td> <td>Modules</td> <td>模块</td></tr></tbody></table> <h3 id="第四节-严格模式"><a href="#第四节-严格模式" class="header-anchor">#</a> 第四节 严格模式</h3> <p>在ES5规范中，引入了严格模式的概念，设立严格模式的目的：</p> <ol><li>消除Javascript语法不合理、不严谨之处，减少怪异行为</li> <li>提高编译器效率，增加运行速度</li> <li>为未来新版本的Javascript做好铺垫</li></ol> <p>ES5严格模式是将<code>use strict</code>放在脚本文件的第一行，则整个脚本都将以严格模式运行。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>  
a<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//报错：a is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ES6 的模块自动采用严格模式（无需 <code>use strict</code>）。严格模式主要有以下限制：</p> <ul><li><strong>变量必须先声明后使用</strong></li> <li>函数的参数不能重名，arguments不能被重新赋值</li> <li>不能使用with语句</li> <li><strong>禁止this指向全局对象</strong>（事件处理函数中的this是undefined）</li> <li>增加了保留字（比如protected、static和interface）</li> <li>不可以在if、for等条件语句内声明函数</li></ul> <p>教程参考： <a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ECMAScript 6 入门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="第二章-数据的扩展"><a href="#第二章-数据的扩展" class="header-anchor">#</a> 第二章 数据的扩展</h2> <h3 id="第一节-字符串扩展"><a href="#第一节-字符串扩展" class="header-anchor">#</a> 第一节 字符串扩展</h3> <p>存在的问题：</p> <ul><li>字符串连接不方便</li> <li>多行文本连接不方便</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'KangGe'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是'</span><span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">',今年'</span><span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">'岁'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> html <span class="token operator">=</span> 
<span class="token string">'&lt;div&gt;'</span><span class="token operator">+</span>
    <span class="token string">'&lt;ul&gt;'</span><span class="token operator">+</span>
    	<span class="token string">'&lt;li&gt;&lt;/li&gt;'</span><span class="token operator">+</span>
    	<span class="token string">'&lt;li&gt;&lt;/li&gt;'</span><span class="token operator">+</span>
    <span class="token string">'&lt;/ul&gt;'</span><span class="token operator">+</span>
<span class="token string">'&lt;/div&gt;'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="模板文本"><a href="#模板文本" class="header-anchor">#</a> 模板文本</h4> <ul><li>可以使用反引号``表示字符串。</li> <li>在``模板文本中可以使用$ {变量名} 来实现模板替换。</li> <li>{}内支持函数返回、表达式、运算等：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> name<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sex<span class="token operator">=</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> man <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我的名字是:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">年龄:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,性别：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token operator">==</span><span class="token string">'m'</span><span class="token operator">?</span> <span class="token string">'男'</span>：‘女’<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="多行字符串"><a href="#多行字符串" class="header-anchor">#</a> 多行字符串</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> news_title<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;新闻标题1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;新闻标题2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> html<span class="token operator">=</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;##&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>news_title<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;##&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>news_title<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="第二节-对象的扩展"><a href="#第二节-对象的扩展" class="header-anchor">#</a> 第二节 对象的扩展</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span> 
  max<span class="token punctuation">:</span> max<span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> min<span class="token punctuation">,</span>
  sum<span class="token punctuation">:</span> sum<span class="token punctuation">,</span>
  avg<span class="token punctuation">:</span> avg
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>max<span class="token punctuation">,</span> min<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> avg<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="第三章-变量扩展"><a href="#第三章-变量扩展" class="header-anchor">#</a> 第三章 变量扩展</h2> <h3 id="第一节-let指令"><a href="#第一节-let指令" class="header-anchor">#</a> 第一节 let指令</h3> <p>用var声明的变量会造成全局污染，于是，就产生了新的声明方式。</p> <p>let可以使得变量更规范</p> <ul><li>避免变量的提升</li> <li>避免重复定义</li> <li>块级作用域</li></ul> <p>用let声明变量，<strong>要先声明后使用</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0-9</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    a<span class="token operator">++</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="变量的提升与函数提升"><a href="#变量的提升与函数提升" class="header-anchor">#</a> 变量的提升与函数提升</h4> <p>以往var定义的变量可以先使用后定义，是因为有变量提升。</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>



<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>




<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="第二节-const指令"><a href="#第二节-const指令" class="header-anchor">#</a> 第二节 const指令</h3> <p>const声明一个只读的常量。一旦声明，常量的值就不能改变。</p> <ul><li>约束用户修改数据</li> <li>可读性</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>
<span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">// 报错：TypeError: Assignment to constant variable.（类型错误：给常量赋值）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table><thead><tr><th style="text-align:center;">特性</th> <th style="text-align:center;">var</th> <th style="text-align:center;">let</th> <th style="text-align:center;">const</th></tr></thead> <tbody><tr><td style="text-align:center;">作用域级别</td> <td style="text-align:center;">函数级</td> <td style="text-align:center;">块级</td> <td style="text-align:center;">块级</td></tr> <tr><td style="text-align:center;">初始值</td> <td style="text-align:center;">否</td> <td style="text-align:center;">否</td> <td style="text-align:center;">声明时必须赋值</td></tr> <tr><td style="text-align:center;">变量提升</td> <td style="text-align:center;">是</td> <td style="text-align:center;">否</td> <td style="text-align:center;">否</td></tr> <tr><td style="text-align:center;">重复声明</td> <td style="text-align:center;">是</td> <td style="text-align:center;">否</td> <td style="text-align:center;">否</td></tr></tbody></table> <h3 id="第三节-解构赋值"><a href="#第三节-解构赋值" class="header-anchor">#</a> 第三节 解构赋值</h3> <p>如果我们想从复杂的数据结构（数组 对象）中获取某一个数据，可能需要大量的遍历操作才能够完成。解构赋值，可以将这一过程进行简化。</p> <p>一次性提取多个数据。</p> <h4 id="数组的解构赋值"><a href="#数组的解构赋值" class="header-anchor">#</a> 数组的解构赋值</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//旧</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> age<span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ES6方法：结构一致，一一对应</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span>age<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span><span class="token punctuation">[</span>y<span class="token punctuation">,</span>z<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="对象的解构赋值"><a href="#对象的解构赋值" class="header-anchor">#</a> 对象的解构赋值</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span><span class="token string">&quot;zhang&quot;</span><span class="token punctuation">,</span>lastName<span class="token punctuation">:</span><span class="token string">&quot;san&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    city<span class="token punctuation">:</span> <span class="token string">&quot;beijing&quot;</span><span class="token punctuation">,</span>
    hobby<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;足球&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;篮球&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;游戏&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;读书&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>city<span class="token punctuation">}</span><span class="token operator">=</span> obj<span class="token punctuation">;</span>

<span class="token comment">//变量名要与对象key一致，可以使用冒号':'定义新变量名</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span>new_name<span class="token punctuation">,</span>name<span class="token punctuation">:</span><span class="token punctuation">{</span>firstName<span class="token punctuation">:</span>fname<span class="token punctuation">,</span>lastName<span class="token punctuation">}</span><span class="token punctuation">,</span>city<span class="token punctuation">,</span> hobby<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>   
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>new_name<span class="token punctuation">,</span>fname<span class="token punctuation">,</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 函数参数的默认值</span>
jQuery<span class="token punctuation">.</span><span class="token function-variable function">ajax</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function-variable function">beforeSend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  cache <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function-variable function">complete</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  crossDomain <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  global <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// ... more config</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... do stuff</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="用途"><a href="#用途" class="header-anchor">#</a> 用途</h4> <h5 id="交换变量的值"><a href="#交换变量的值" class="header-anchor">#</a> 交换变量的值</h5> <h5 id="从函数返回多个值"><a href="#从函数返回多个值" class="header-anchor">#</a> 从函数返回多个值</h5> <p>函数只能返回一个值，如果要返回多个值，只能将它们放在数组或对象里返回。有了解构赋值，取出这些值就非常方便。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 返回一个数组</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 返回一个对象</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    bar<span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="提取-json-数据"><a href="#提取-json-数据" class="header-anchor">#</a> 提取 JSON 数据</h5> <p>解构赋值对提取 JSON 对象中的数据，尤其有用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  status<span class="token punctuation">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">867</span><span class="token punctuation">,</span> <span class="token number">5309</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> data<span class="token punctuation">:</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> jsonData<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 42, &quot;OK&quot;, [867, 5309]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码可以快速提取 JSON 数据的值。</p> <h3 id="第四节-对集合的遍历"><a href="#第四节-对集合的遍历" class="header-anchor">#</a> 第四节 对集合的遍历</h3> <h4 id="遍历数组-for-of"><a href="#遍历数组-for-of" class="header-anchor">#</a> 遍历数组 for...of...</h4> <h4 id="遍历对象-for-in"><a href="#遍历对象-for-in" class="header-anchor">#</a> 遍历对象 for...in...</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="第三章-函数扩展"><a href="#第三章-函数扩展" class="header-anchor">#</a> 第三章 函数扩展</h2> <h3 id="第一节-箭头函数"><a href="#第一节-箭头函数" class="header-anchor">#</a> 第一节 箭头函数</h3> <p>箭头函数（arrow function）<strong>相当于匿名函数</strong>，并且简化了函数定义。</p> <h4 id="新增格式"><a href="#新增格式" class="header-anchor">#</a> 新增格式</h4> <p>箭头函数增加了一种简化格式：如果函数体只包含一个表达式，可以省略掉<code>{ }</code>和<code>return</code></p> <h5 id="只包含一个表达式"><a href="#只包含一个表达式" class="header-anchor">#</a> 只包含一个表达式</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//旧</span>
<span class="token keyword">var</span> <span class="token function-variable function">run</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment">//ES6 可以省略{}</span>
<span class="token keyword">let</span> <span class="token function-variable function">run</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="只有return语句"><a href="#只有return语句" class="header-anchor">#</a> 只有return语句</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//旧</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token punctuation">}</span>

<span class="token comment">//ES6</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="返回对象"><a href="#返回对象" class="header-anchor">#</a> 返回对象</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//旧</span>
<span class="token keyword">var</span> <span class="token function-variable function">getObj</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> 
    	id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> 
    	name<span class="token punctuation">:</span><span class="token string">&quot;likang&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 

<span class="token comment">//ES6 返回对象用小括号</span>
<span class="token keyword">let</span> <span class="token function-variable function">getObj</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;likang&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="参数格式"><a href="#参数格式" class="header-anchor">#</a> 参数格式</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//无参数---空()</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//相当于 var sum=function(){...}</span>

<span class="token comment">//单个参数---省略()</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> val<span class="token punctuation">;</span>  <span class="token comment">//相当于： var fn = function(val) {return val}</span>

<span class="token comment">//多个参数---放在()内</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">//相当于：var sum = function(a, b) {return a + b;}        </span>
             
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="箭头函数中的this"><a href="#箭头函数中的this" class="header-anchor">#</a> 箭头函数中的this</h4> <p>箭头函数的this，与父函数一致</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> oBox<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    oBox<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background<span class="token operator">=</span><span class="token string">&quot;blue&quot;</span> <span class="token comment">//箭头函数的this，与父函数一致</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 扑克牌排序</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="第二节-函数参数"><a href="#第二节-函数参数" class="header-anchor">#</a> 第二节 函数参数</h3> <p>函数参数可以定义默认值，定义了默认值的参数，应该放在最后。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">link</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="第三节-展开运算符"><a href="#第三节-展开运算符" class="header-anchor">#</a> 第三节 展开运算符</h3> <p>展开（ spread ）或称为扩展运算符是  <code>...</code> 三个点形式</p> <h4 id="用于函数参数"><a href="#用于函数参数" class="header-anchor">#</a> 用于函数参数</h4> <p>用于函数参数，被称为<strong>rest 参数</strong>（rest：剩余），函数参数不确定时，每个函数最多只能声明一个不定参数，而且一定要放在末尾。rest 参数（形式为<code>...变量名</code>），用于获取函数的多余参数，这样就不需要使用<code>arguments</code>对象了。rest 参数搭配的变量是一个数组，该变量将多余的参数放入数组中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//函数可变参数</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">plus</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> <span class="token operator">...</span>items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
<span class="token function">plus</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [array, ...items] = [arr,55,66,77,88]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果：[1, 2, 3, 55, 66, 77, 88]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="用于解构赋值"><a href="#用于解构赋值" class="header-anchor">#</a> 用于解构赋值</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//与解构赋值结合</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span><span class="token operator">...</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果: 7,[8,9]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="用于复制数组"><a href="#用于复制数组" class="header-anchor">#</a> 用于复制数组</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//复制数组</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;as&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;se&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//错误方法</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token operator">===</span>arr2<span class="token punctuation">)</span><span class="token comment">//true  引用数据类型</span>

<span class="token comment">//传统方法 使用concat合并数组</span>
<span class="token keyword">let</span> arr3<span class="token operator">=</span>arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token operator">===</span>arr3<span class="token punctuation">)</span><span class="token comment">//false</span>

<span class="token comment">//新方法（可以同时添加新属性）</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span><span class="token string">'hx'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token operator">===</span>arr4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="用于复制对象"><a href="#用于复制对象" class="header-anchor">#</a> 用于复制对象</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//复制对象</span>
<span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span>

<span class="token comment">//传统方法</span>
<span class="token keyword">let</span> new_obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    new_obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//新方法（可以同时添加新属性）</span>
<span class="token keyword">let</span> new_obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">,</span><span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;beijing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>new_obj<span class="token punctuation">)</span><span class="token comment">//结果： {name:&quot;zhangsan&quot;,age:18,city: &quot;beijing&quot;}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="第四节-常用函数"><a href="#第四节-常用函数" class="header-anchor">#</a> 第四节 常用函数</h3> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <h4 id="find-与-filter"><a href="#find-与-filter" class="header-anchor">#</a> find 与 filter</h4> <h4 id="sort"><a href="#sort" class="header-anchor">#</a> sort</h4> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'KangGe'</span><span class="token punctuation">,</span> chinese<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> compute<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> math<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'xgg'</span><span class="token punctuation">,</span> chinese<span class="token punctuation">:</span> <span class="token number">78</span><span class="token punctuation">,</span> compute<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span> math<span class="token punctuation">:</span> <span class="token number">43</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'dyy'</span><span class="token punctuation">,</span> chinese<span class="token punctuation">:</span> <span class="token number">44</span><span class="token punctuation">,</span> compute<span class="token punctuation">:</span> <span class="token number">77</span><span class="token punctuation">,</span> math<span class="token punctuation">:</span> <span class="token number">44</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'xx'</span><span class="token punctuation">,</span> chinese<span class="token punctuation">:</span> <span class="token number">44</span><span class="token punctuation">,</span> compute<span class="token punctuation">:</span> <span class="token number">66</span><span class="token punctuation">,</span> math<span class="token punctuation">:</span> <span class="token number">88</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token comment">// 求每位学员的总分</span>
<span class="token comment">// 录取150分以上的学员</span>
<span class="token comment">// 排序</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> students
    <span class="token comment">// 求每位学员的总分</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 提取成绩</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>chinese<span class="token punctuation">,</span> compute<span class="token punctuation">,</span> math<span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
        <span class="token comment">// 计算总分</span>
        <span class="token keyword">let</span> total <span class="token operator">=</span> chinese <span class="token operator">+</span> compute <span class="token operator">+</span> math<span class="token punctuation">;</span>
        <span class="token comment">// 返回数据</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>item<span class="token punctuation">,</span> total<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 录取150分以上的学员</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>total <span class="token operator">&gt;=</span> <span class="token number">150</span><span class="token punctuation">)</span>
    <span class="token comment">// 排序</span>
    <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span>total <span class="token operator">-</span> a<span class="token punctuation">.</span>total<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="第四章-面向对象"><a href="#第四章-面向对象" class="header-anchor">#</a> 第四章 面向对象</h2> <h3 id="第一节-类的概念"><a href="#第一节-类的概念" class="header-anchor">#</a> 第一节 类的概念</h3> <h4 id="什么是类与对象"><a href="#什么是类与对象" class="header-anchor">#</a> 什么是类与对象</h4> <p>虽然 Javascript中有类的概念，但是可能大多数 Javascript程序员并不是非常熟悉类，这里对类相关的概念做一个简单的介绍。</p> <ul><li>类(Class)：定义了一件事物的抽象特点，包含它的属性和方法</li> <li>对象（Object）：类的实例，通过 <code>new</code> 生成</li> <li>面向对象（OOP）的三大特性：封装、继承、多态
<ul><li>封装（Encapsulation）：将对数据的操作细节隐藏起来，只暴露对外的接口。外界调用端不需要（也不可能）知道细节，就能通过对外提供的接口来访问该对象，同时也保证了外界无法任意更改对象内部的数据</li> <li>继承（Inheritance）：子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li> <li>多态（Polymorphism）：由继承而产生了相关的不同的类，对同一个方法可以有不同的响应。比如<code>Cat</code> 和 <code>Dog</code> 都继承自 <code>Animal</code>，但是分别实现了自己的 <code>eat</code> 方法。此时针对某一个实例，我们无需了解它是 <code>Cat</code> 还是 <code>Dog</code>，就可以直接调用 <code>eat</code> 方法，程序会自动判断出来应该如何执行 `eat</li></ul></li></ul> <h4 id="实例化"><a href="#实例化" class="header-anchor">#</a> 实例化</h4> <h3 id="第二节-javascript-实例面向对象的原始方法"><a href="#第二节-javascript-实例面向对象的原始方法" class="header-anchor">#</a> 第二节  Javascript 实例面向对象的原始方法</h3> <h4 id="使用多变量存储数据"><a href="#使用多变量存储数据" class="header-anchor">#</a> 使用多变量存储数据</h4> <h3 id="第三节-封装"><a href="#第三节-封装" class="header-anchor">#</a> 第三节 封装</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 英雄对打</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="对象增强"><a href="#对象增强" class="header-anchor">#</a> 对象增强</h4> <p>ES6允许直接写入<strong>变量</strong>和<strong>函数</strong>作为对象的属性和方法，这样的书写更加简洁。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//对象属性方法的简写</span>

<span class="token keyword">let</span> name<span class="token operator">=</span><span class="token string">'likang'</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span>name<span class="token punctuation">,</span><span class="token comment">//传统写法</span>
    age<span class="token punctuation">,</span><span class="token comment">//ES6：key与变量名(或函数名)相同，可以省略</span>
    play：<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//传统写法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>，
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//ES6写法</span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  	<span class="token punctuation">}</span><span class="token punctuation">,</span> 
    
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="第九节-类"><a href="#第九节-类" class="header-anchor">#</a> 第九节 类</h3> <p>传统的javascript中只有对象，没有类的概念。它是基于原型的面向对象语言。原型对象特点就是将自身的属性共享给新对象。</p> <p>ES6引入了Class（类）概念，通过<code>class</code>关键字可以定义类。该关键字的出现使得其在对象写法上更加清晰，更像是一种面向对象的语言（ES6中的类只是语法糖，其实就是构造函数的另外一种写法）</p> <h4 id="定义类"><a href="#定义类" class="header-anchor">#</a> 定义类</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1. 在class的{}区间内，只能写 构造函数、静态方法、实例方法</span>
<span class="token comment">//2. 实例属性和方法，写在构造函数内</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token comment">//构造函数</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span> <span class="token comment">//实例的属性</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span><span class="token comment">//实例的属性</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//实例的方法</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例方法中的this，指向实例对象</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//类的静态方法 </span>
    <span class="token keyword">static</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;类的静态方法：&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//静态方法中的this 指向 类 本身</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义类的属性（ES6规定，类里只可以有静态方法，不能有静态属性）</span>
Animal<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">&quot;白色&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//调用类的静态方法</span>
Animal<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//依然可以使用prototype添加方法（不推荐）</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//实例化一个动物对象</span>
<span class="token keyword">let</span> dog<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">&quot;小黑&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="第四节-继承"><a href="#第四节-继承" class="header-anchor">#</a> 第四节 继承</h3> <ul><li>只有当X是Y的时候，才能使用继承。</li> <li>继承够子类将拥有父类的一切。</li> <li>当有一个子类实例的时候一定会同时创建一个父类实例。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//子类使用extends继承父类</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token comment">//子类构造函数</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>speak</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//子类无构造函数，自动调用父类构造函数</span>
        <span class="token comment">//子类有构造函数，使用super调用父类的构造函数（必须写在前面）</span>
        <span class="token comment">//只要子类有构造函数,就必要要写super,否则this指向会错误</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>speak<span class="token operator">=</span>speak<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//子类的static方法</span>
    <span class="token keyword">static</span> <span class="token function">myColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//使用super调用父类的静态方法</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//super指向父类，this指向子类</span>
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token comment">//实例化一个Cat对象</span>
<span class="token keyword">var</span> cat1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">&quot;花花&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;喵&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//show方法是从父类继承来的</span>
cat1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//子类自己的属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>speak<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//父类原型上的方法</span>
cat1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&quot;鱼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//子类自己的属性</span>
Cat<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">&quot;橘色&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//子类static方法</span>
Cat<span class="token punctuation">.</span><span class="token function">myColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//橘色</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="第五节-多态"><a href="#第五节-多态" class="header-anchor">#</a> 第五节 多态</h3> <p>let name;</p> <p>interface foo(a, b):number;</p> <h2 id="第五章-module模块化"><a href="#第五章-module模块化" class="header-anchor">#</a> 第五章 Module模块化</h2> <p>在项目开发中，js文件要按照加载顺序引入，引入一个js文件，还要知道这个js文件是否“依赖”其他js文件，这就造成了js引入的不便，在团队协作开发中，js文件都是由不同的开发人员编写的，js文件的引入极易造成混乱。</p> <p>js模块化需要解决的问题：</p> <ol><li>如何安全的包装一个模块的代码？（不污染模块外的任何代码）</li> <li>如何唯一标识一个模块？</li> <li>如何优雅的把模块的API暴漏出去？（不能增加全局变量）</li> <li>如何方便的使用所依赖的模块？</li></ol> <p>ES6移除了关于模块如何加载/执行的内容，只保留了定义、引入模块的语法。<strong>目前还没有浏览器能支持</strong>，只能说它是面向未来了。</p> <h3 id="export输出"><a href="#export输出" class="header-anchor">#</a> export输出</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//a.js 方式一 分别输出每一个，可以是变量 函数 对象 类</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a模块的run函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// export {a, run}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//b.js 方式二 export default 对象方式输出全部</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> school <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'hxsd'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;b模块的run函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span> school<span class="token punctuation">,</span> run<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//default 表示不给导出的对象起名字，名字交给引入方（引入时也无需查看名称），并且可以选择性导出</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="import输入"><a href="#import输入" class="header-anchor">#</a> import输入</h3> <p>输入文件一定要使用 <code>/</code> <code>./</code> <code>../</code>  路径</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//在花括号中指明需使用的API，并且可以用as指定别名</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>run <span class="token keyword">as</span> go<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a模块的变量a：&quot;</span><span class="token operator">+</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//可以输入用export default定义的对象</span>
<span class="token keyword">import</span> b <span class="token keyword">from</span> <span class="token string">&quot;./b.js&quot;</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用通配符*, 重新导出（转载）其他模块的接口</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="浏览器支持"><a href="#浏览器支持" class="header-anchor">#</a> 浏览器支持</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--最新版firefox  chrome浏览器支持ES6模块--&gt;</span>
<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--测试 type=&quot;module&quot; --&gt;</span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="通过公共模块来共享变量"><a href="#通过公共模块来共享变量" class="header-anchor">#</a> 通过公共模块来共享变量</h3> <h2 id="第六章-promise"><a href="#第六章-promise" class="header-anchor">#</a> 第六章 Promise</h2> <p>JavaScript本身是单线程，因此，为了应对一些单线程带来的问题，异步编程成为了JavaScript中非常重要的一部分。在异步编程中，许多操作都会放在回调函数（callback）中。同步与异步的混杂、过多的回调嵌套都会使得代码变得难以理解与维护，这也是常受人诟病的地方。</p> <h3 id="异步函数的返回"><a href="#异步函数的返回" class="header-anchor">#</a> 异步函数的返回</h3> <h3 id="异步编程的回调地狱"><a href="#异步编程的回调地狱" class="header-anchor">#</a> 异步编程的回调地狱</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//晚饭</span>
<span class="token keyword">let</span> state<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//假设一个判断条件</span>

<span class="token keyword">function</span> <span class="token function">dinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1.做饭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2.吃饭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
						<span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
							console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3.刷碗&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
							console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;刷碗出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;吃饭出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;做饭出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//调用</span>
<span class="token function">dinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="promise-对象"><a href="#promise-对象" class="header-anchor">#</a> Promise 对象</h3> <p>Promise对象用于处理异步操作的，异步处理成功了就执行成功的操作，异步处理失败了就捕获错误或者停止后续操作。 它的核心就是：一个promise代表一个任务结果，这个任务有可能完成有可能没完成。Promise模式唯一需要的一个接口是调用then方法，它可以用来注册当promise完成或者失败时调用的回调函数，可以把Promise对象看成是一条工厂的流水线， 使用promise对象之后可以使用一种链式调用的方式来组织代码；让代码更加的直观。</p> <p>Promise 是一个类，需要用 new 实例化：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//resolve：决定 reject：拒绝</span>
    <span class="token comment">//做一些异步操作</span>
	<span class="token comment">//成功：resolve()</span>
    <span class="token comment">//失败：reject()</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="then方法"><a href="#then方法" class="header-anchor">#</a> then方法</h3> <p>then方法是Promise原型上的方法，它把原来的回调写法分离出来，在异步操作执行完后，用链式调用的方式执行回调函数。</p> <ol><li><p>then 方法接受两个参数：onFulfilled（译：完成的）和onRejected（译：被拒绝的）就是前次操作返回的resolve()和reject()</p></li> <li><p>回调函数中会把上一个then中返回的值当做参数值供当前then调用。每个then只可能使用前一个then的返回值。</p></li> <li><p>then方法执行完毕后需要返回一个新的值给下一个then调用（没有返回值默认使用undefined）。</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//promise</span>
<span class="token keyword">let</span> state<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//假设一个判断条件</span>
	        
<span class="token keyword">function</span> <span class="token function">cook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//resolve:决定 决心  reject:拒绝 抛弃</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;1.做饭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;做饭出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;2.吃饭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;吃饭出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">wash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;3.刷碗&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;刷碗出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//实例化一个promise对象</span>
<span class="token function">cook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">wash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="reject"><a href="#reject" class="header-anchor">#</a> reject</h3> <p>用户注册验证</p> <h3 id="catch"><a href="#catch" class="header-anchor">#</a> catch</h3> <h2 id="第七章-网络请求"><a href="#第七章-网络请求" class="header-anchor">#</a> 第七章 网络请求</h2> <h3 id="同步与异步"><a href="#同步与异步" class="header-anchor">#</a> 同步与异步</h3> <h4 id="函数的返回与回调"><a href="#函数的返回与回调" class="header-anchor">#</a> 函数的返回与回调</h4> <h4 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h4> <h3 id="axios"><a href="#axios" class="header-anchor">#</a> Axios</h3> <p><a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（艾克瑟斯）是当前比较流行的，采用promise封装的Ajax异步请求工具（非jquery插件）。</p> <h4 id="配置项"><a href="#配置项" class="header-anchor">#</a> 配置项</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token comment">//url----------------------------------------------------------------</span>
    <span class="token comment">//请求的服务器地址</span>
    url<span class="token punctuation">:</span><span class="token string">'/user'</span><span class="token punctuation">,</span>

    <span class="token comment">//method--------------------------------------------------------------</span>
    <span class="token comment">//求资源的方式</span>
    method<span class="token punctuation">:</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token comment">//default</span>

    <span class="token comment">//baseURL-------------------------------------------------------------    </span>
    <span class="token comment">//如果 url 不是绝对地址，那么 baseURL 将会加到 url 的前面</span>
    <span class="token comment">//当 url 是相对地址的时候，设置`baseURL`会非常的方便</span>
    baseURL<span class="token punctuation">:</span><span class="token string">'https://some-domain.com/api/'</span><span class="token punctuation">,</span>

    <span class="token comment">//transformRequest-----------------------------------------------------</span>
    <span class="token comment">//允许在请求发送到服务器之前对请求的数据做出一些改动,</span>
    <span class="token comment">//该选项只适用于以下请求方式：put/post/patch</span>
    <span class="token comment">//数组里面的最后一个函数必须返回一个字符串、-一个 ArrayBuffer 或者 Stream</span>
    transformRequest<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//根据需求改变数据</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">//transformResponse-----------------------------------------------------</span>
    <span class="token comment">//允许在数据传送到 then/catch 方法之前对数据进行改动</span>
    transformResponse<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//根据需求改变数据</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">//headers----------------------------------------------------------------</span>
    <span class="token comment">//自定义http请求头信息</span>
    headers<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'X-Requested-With'</span><span class="token punctuation">:</span><span class="token string">'XMLHttpRequest'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//params-----------------------------------------------------------------</span>
    <span class="token comment">//要随请求一起发送的query参数,他的类型必须是一个纯对象或者是URLSearchParams对象</span>
    params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token constant">ID</span><span class="token punctuation">:</span><span class="token number">12345</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//paramsSerializer-------------------------------------------------------</span>
    <span class="token comment">//一个可选的函数，起作用是让参数（params）序列化</span>
    <span class="token function-variable function">paramsSerializer</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> Qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span><span class="token punctuation">{</span>arrayFormat<span class="token punctuation">:</span><span class="token string">'brackets'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//data-------------------------------------------------------</span>
    <span class="token comment">//作为一个请求体而需要被发送的数据</span>
    <span class="token comment">//该选项只适用于方法：put/post/patch</span>
    <span class="token comment">//当没有设置transformRequest选项时dada必须是以下几种类型之一：</span>
    <span class="token comment">//string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams</span>
    <span class="token comment">//仅浏览器：FormData/File/Blob</span>
    <span class="token comment">//仅node:Stream</span>
    data <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span><span class="token string">&quot;Fred&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//timeout----------------------------------------------------------</span>
    <span class="token comment">//定义了请求发出的延迟毫秒数,如果请求超过延迟时间，请求会被终止</span>
    timeout<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">,</span>

    <span class="token comment">//withCredentails-------------------------------------------------------</span>
    <span class="token comment">//表明是否是跨域请求</span>
    withCredentials<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//default</span>

    <span class="token comment">//adapter----------------------------------------------------------------</span>
    <span class="token comment">//适配器选项允许自定义处理请求，这会使得测试变得方便</span>
    <span class="token comment">//返回一个promise,并提供验证返回</span>
    <span class="token function-variable function">adapter</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">//auth------------------------------------------------------------------</span>
    <span class="token comment">//表明HTTP基础的认证应该被使用，并提供证书</span>
    <span class="token comment">//这会设置一个authorization头（header）,并覆盖你在header设置的Authorization头信息</span>
    auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        username<span class="token punctuation">:</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
        password<span class="token punctuation">:</span> <span class="token string">&quot;s00sdkf&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">//responseType---------------------------------------------------------</span>
    <span class="token comment">//返回数据的格式,可选项是arraybuffer,blob,document,json,text,stream</span>
    responseType<span class="token punctuation">:</span><span class="token string">'json'</span><span class="token punctuation">,</span><span class="token comment">//default</span>

    <span class="token comment">//xsrfCookieName---------------------------------------------------------</span>
    <span class="token comment">//是用作XSRF（跨站点请求伪造）令牌值的cookie的名称</span>
    xsrfCookieName<span class="token punctuation">:</span> <span class="token string">'XSRF-TOKEN'</span><span class="token punctuation">,</span> <span class="token comment">//default</span>

  	<span class="token comment">//xsrfHeaderName---------------------------------------------------------</span>
    <span class="token comment">//是承载XSRF令牌值的HTTP头的名称</span>
  	xsrfHeaderName<span class="token punctuation">:</span> <span class="token string">'X-XSRF-TOKEN'</span><span class="token punctuation">,</span> <span class="token comment">//default</span>

    <span class="token comment">//onUploadProgress------------------------------------------------------</span>
    <span class="token comment">//上传进度事件</span>
    <span class="token function-variable function">onUploadProgress</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">progressEvent</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//onDownloadProgress----------------------------------------------------</span>
    <span class="token comment">//下载进度的事件</span>
    <span class="token function-variable function">onDownloadProgress</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">progressEvent</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    
    <span class="token comment">//maxContentLength------------------------------------------------------</span>
    <span class="token comment">//响应内容的最大值</span>
    maxContentLength<span class="token punctuation">:</span><span class="token number">2000</span><span class="token punctuation">,</span>

    <span class="token comment">//validateStatus--------------------------------------------------------</span>
    <span class="token comment">//定义了是否根据http相应状态码，来resolve或者reject promise</span>
    <span class="token comment">//如果`validateStatus`返回true(或者设置为`null`或者`undefined`)</span>
    <span class="token comment">//那么promise的状态将会是resolved,否则其状态就是rejected</span>
    <span class="token function-variable function">validateStatus</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> status <span class="token operator">&lt;</span><span class="token number">300</span><span class="token punctuation">;</span><span class="token comment">//default</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//maxRedirects---------------------------------------------------------</span>
    <span class="token comment">//定义了在nodejs中重定向的最大数量</span>
    maxRedirects<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token comment">//default</span>

    <span class="token comment">//httpAgent/httpsAgent-------------------------------------------------</span>
    <span class="token comment">//定义了当发送http/https请求要用到的自定义代理，keeyAlive默认false</span>
    httpAgent<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">http<span class="token punctuation">.</span>Agent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>keeyAlive<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    httpsAgent<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">https<span class="token punctuation">.</span>Agent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>keeyAlive<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//proxy----------------------------------------------------------------</span>
    <span class="token comment">//定义了主机名字和端口号，auth`表明http基本认证应该与proxy代理链接，并提供证书</span>
    <span class="token comment">//这将会设置一个 Proxy-Authorization header,</span>
    <span class="token comment">//并且会覆盖掉已经存在的 Proxy-Authorization header</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        host<span class="token punctuation">:</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
        port<span class="token punctuation">:</span> <span class="token number">9000</span><span class="token punctuation">,</span>
        auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          username<span class="token punctuation">:</span><span class="token string">'skda'</span><span class="token punctuation">,</span>
          password<span class="token punctuation">:</span><span class="token string">'radsd'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//cancelToken----------------------------------------------------------</span>
    <span class="token comment">//定义了一个用于取消请求的cancel token</span>
    cancelToken<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">cancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cancel</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br></div></div><h4 id="api"><a href="#api" class="header-anchor">#</a> API</h4> <p>调用axios，接收一个配置项参数（object）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 发送一个 POST 请求</span>
<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'/user/12345'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    	firstName<span class="token punctuation">:</span> <span class="token string">'Fred'</span><span class="token punctuation">,</span>
    	lastName<span class="token punctuation">:</span> <span class="token string">'Flintstone'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="请求方法别名"><a href="#请求方法别名" class="header-anchor">#</a> 请求方法别名</h4> <p>为了方便起见，已经为所有支持的请求方法提供了别名：</p> <ul><li>axios.get（url [，config]）</li> <li>axios.post（url [，data [，config]]）</li> <li>axios.request（config）</li> <li>axios.head（url [，config]）</li> <li>axios.delete（url [，config]）</li> <li>axios.put（url [，data [，config]]）</li> <li>axios.patch（url [，data [，config]]）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 发送一个 get 请求</span>
axios<span class="token punctuation">.</span>get（<span class="token string">&quot;/get_data?name=zhangsan&quot;</span>）<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 发送一个 post 请求</span>
axios<span class="token punctuation">.</span>post（<span class="token string">&quot;/post_data&quot;</span><span class="token punctuation">,</span>params<span class="token punctuation">:</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>pwd<span class="token punctuation">:</span><span class="token number">123456</span><span class="token punctuation">}</span>）<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="第八章-异步函数"><a href="#第八章-异步函数" class="header-anchor">#</a> 第八章 异步函数</h2> <h3 id="async-函数"><a href="#async-函数" class="header-anchor">#</a> async 函数</h3> <p>Promise 的写法只是回调函数的改进，使用<code>then</code>方法以后，异步任务的两段执行看得更清楚了，但它的最大问题是代码冗余，一眼看去都是一堆<code>then</code>，原来的语义变得很不清楚。</p> <p><code>async</code>函数自带执行器。也就是说，<code>async</code>函数的执行，与普通函数一模一样。</p> <p><code>async</code>函数的返回值是 Promise 对象，可以用<code>then</code>方法获取返回值并指定下一步的操作。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;hello world&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="await"><a href="#await" class="header-anchor">#</a> await</h3> <p><code>await</code>表示紧跟在后面的表达式需要等待结果。</p> <p><code>await</code>用来获取异步函数的返回值。以往的解决方案中异步函数的返回值一定绕不开回调函数，现在我们可以像使用同步函数<code>return</code>的方式直接获取返回值，只需要在前面加个<code>await</code>就行。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/top/playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>await</code>只能在<code>async</code>函数中使用。</p> <p><code>async</code>函数完全可以看作多个异步操作，包装成的一个 Promise 对象，而<code>await</code>命令就是内部<code>then</code>命令的语法糖。</p> <p>案例： 使用 async 函数实现连续网络请求。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/top/playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> playlistId <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>playlists<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>

  res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/playlist/detail?id='</span><span class="token operator">+</span>playlistId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> trackId <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>playlist<span class="token punctuation">.</span>tracks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>

  res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/song/url?id='</span><span class="token operator">+</span>trackId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>await</code> 和 <code>Promise</code>并不冲突可以混合使用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> playlists <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/top/playlist'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>playlists<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> playlistId <span class="token operator">=</span> playlists<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>

  <span class="token keyword">let</span> playlist <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/playlist/detail?id='</span><span class="token operator">+</span>playlistId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>playlist<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> trackId <span class="token operator">=</span> playlist<span class="token punctuation">.</span>tracks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>

  <span class="token keyword">let</span> track <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/song/url?id='</span><span class="token operator">+</span>trackId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> track<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h3> <p>async 函数其实是 Generator 函数的语法糖。如果想深入学习 async 函数，需要了解 Iterator 迭代器、Generator 函数、 Thunk 函数。</p> <h2 id="第九章-数据结构扩展"><a href="#第九章-数据结构扩展" class="header-anchor">#</a> 第九章 数据结构扩展</h2> <h3 id="第一节-object新增方法"><a href="#第一节-object新增方法" class="header-anchor">#</a> 第一节 Object新增方法</h3> <h4 id="object-assign"><a href="#object-assign" class="header-anchor">#</a> Object.assign()</h4> <p>Object.assign用来合并多个对象。可以接收多个参数，第一个参数是目标对象，后面的都是源对象。</p> <ul><li>assign方法将多个源对象的属性和方法都合并到了目标对象上，</li> <li>如果在这个过程中出现同名的属性（方法），后合并的属性（方法）会覆盖之前的同名属性（方法）。</li></ul> <p>assign的基本用法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target  <span class="token operator">=</span> <span class="token punctuation">{</span>a <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//目标对象</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>b <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//源对象1</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>c <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//源对象2</span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span>c <span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//源对象3，和obj2中的对象有同名属性c</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>obj1<span class="token punctuation">,</span>obj2<span class="token punctuation">,</span>obj3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果 :{a:1,b:2,c:4}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Object.assign进行的拷贝是浅拷贝。如果拷贝过来的属性值是对象等复合属性，那么只能拷贝过来一个引用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//修改obj1中b的值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">//结果：2（obj2中的b是obj1中b的引用）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="object-keys"><a href="#object-keys" class="header-anchor">#</a> Object.keys()</h4> <p>返回一个数组，成员是所有属性的键名。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//arr结果： [&quot;name&quot;, &quot;age&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="object-values"><a href="#object-values" class="header-anchor">#</a> Object.values()</h4> <p>返回一个数组，成员是所有属性的键值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//arr结果： [&quot;zhangsan&quot;, 18]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="object-entries"><a href="#object-entries" class="header-anchor">#</a> Object.entries()</h4> <p>返回一个数组，成员是所有属性的键/值对数组</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">//arr结果： [ [&quot;name&quot;, &quot;zhangsan&quot;], [&quot;age&quot;, 18] ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="object-fromentries"><a href="#object-fromentries" class="header-anchor">#</a> Object.fromEntries()</h4> <p><code>Object.fromEntries()</code>方法是<code>Object.entries()</code>的逆操作，用于将一个键值对数组转为对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: &quot;zhangsan&quot;, age: 18 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="第三节-array新增方法"><a href="#第三节-array新增方法" class="header-anchor">#</a> 第三节 Array新增方法</h3> <h4 id="es5新增方法"><a href="#es5新增方法" class="header-anchor">#</a> ES5新增方法</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//  indexOf() 和 lastIndexOf() </span>
<span class="token comment">//  forEach() 无返回值</span>
<span class="token comment">//  map() 有返回值</span>
<span class="token comment">//  filter() </span>
<span class="token comment">//  every()</span>
<span class="token comment">//  some() </span>

<span class="token comment">//indexOf 判断是否有匹配元素，返回索引 lastIndexOf反向搜索</span>
<span class="token keyword">let</span> names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//1 返回索引</span>

<span class="token comment">//forEach 遍历：对数组中的每一项运行给定函数（无返回值）</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> i<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span>i<span class="token punctuation">,</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//el：元素  i:索引   array：原数组</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//map 影射：与forEach相同，有返回值（返回每次函数调用的结果组成的数组）</span>
<span class="token keyword">let</span> m_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m_arr2 <span class="token operator">=</span> m_arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> el<span class="token operator">*</span>el<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m_arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 4, 9, 16, 25]</span>

<span class="token comment">//filter 过滤：数组中的每一项运行给定函数，返回满足过滤条件组成的数组。</span>
<span class="token keyword">let</span> f_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f_arr2 <span class="token operator">=</span> f_arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> index <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> el <span class="token operator">&gt;=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f_arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 4, 7, 8, 9, 10]</span>

<span class="token comment">//every 判断数组中每一项都是否满足条件，只有所有项都满足条件，才会返回true。</span>
<span class="token keyword">let</span> e_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> e_arr2 <span class="token operator">=</span> e_arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> el <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e_arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

<span class="token comment">//some 判断数组中是否存在满足条件的项，只要有一项满足条件，就会返回true。</span>
<span class="token keyword">let</span> s_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bool <span class="token operator">=</span> s_arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> el<span class="token operator">==</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h4 id="fill"><a href="#fill" class="header-anchor">#</a> fill()</h4> <p>作用：使用给定值，填充一个数组，数组中原位置的元素，会被全部抹去。</p> <p>语法：arr.fill (  要替换的内容 , 起始索引 , 结束索引  )</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ss&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hxsd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//结果：[&quot;ss&quot;, &quot;web&quot;, &quot;web&quot;, &quot;hxsd&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="from"><a href="#from" class="header-anchor">#</a> from()</h4> <p>用于将两类对象转换为真正的数组：</p> <ol><li>类数组对象（array-like object），比如： <code>arguments</code>，事实上，常见的类数组都有自己的接口定义，如 <code>arguments</code>, <code>NodeList</code>, <code>HTMLCollection</code> 等。</li> <li>可遍历（iterable）的对象（ES6新增的 Set和Map）</li></ol> <p>作用：将对象转换成数组，</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//类似数组的对象 对象必须有length属性，没有length，转出来的就是空数组。</span>
<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;0&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bbb&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ccc&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;length&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="第六节-新增数据结构"><a href="#第六节-新增数据结构" class="header-anchor">#</a> 第六节 新增数据结构</h3> <p>数据元素相互之间的关系称为结构。有四类基本结构：集合（如：对象）、线性结构（如：数组）、树形结构、图状结构。不管什么样的数据结构，它们基本上都有如下的基本功能：</p> <ol><li><p>如何<strong>插入</strong>一条新的数据项</p></li> <li><p>如何<strong>寻找</strong>某一特定的数据项</p></li> <li><p>如何<strong>删除</strong>某一特定的数据项</p></li> <li><p>如何<strong>迭代的访问</strong>各个数据项</p></li></ol> <p>JS原有2种数据结构：Array 和 Object，ES6新增两种数据解构：Set 和 Map</p> <h4 id="set数据结构"><a href="#set数据结构" class="header-anchor">#</a> Set数据结构</h4> <p>Set类似于数组，但是成员的值都是唯一的，没有重复的值。主要用于<strong>数据去重</strong></p> <p>Set本身是一个构造函数，用来生成 Set 数据结构。set实例是一个<strong>类数组的对象</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//声明的同时，传入数据（数组格式）</span>
<span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//返回的是一个对象</span>

<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//不能插入重复数据</span>

<span class="token comment">//set实例是一个类数组的对象，可用Array.from方法转换为数组</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment">//[1, 2, &quot;s&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>add(value)</td> <td>添加某个值，返回：Set结构本身</td></tr> <tr><td>delete(value）</td> <td>删除某个值，返回：bool（删除是否成功）</td></tr> <tr><td>has(value)</td> <td>表示该值是否为Set的成员 返回：bool</td></tr> <tr><td>clear()</td> <td>清除所有成员，返回：无</td></tr></tbody></table> <h4 id="map数据结构"><a href="#map数据结构" class="header-anchor">#</a> Map数据结构</h4> <p>Map（译：映射）也是一个数据集合，与数组类似，是对Object的一个补充，Map的key可以是任意类型的（数组、对象、数字都可以），而传统对象的key必须是字符串</p> <p>遍历Object得到的结果是无序的，遍历Map得到结果是有序的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj1<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment">//报错,key只能是字符串</span>
<span class="token keyword">let</span> obj2<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;{a:1}&quot;</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//Map数据结构</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//添加数据</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//key是任意类型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//声明时赋值</span>
<span class="token keyword">let</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//map删除数据</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>clear</td> <td>从Map中移除所有元素</td></tr> <tr><td>delete</td> <td>从Map中移除指定的元素</td></tr> <tr><td>forEach</td> <td>对Map中的每个元素执行指定操作</td></tr> <tr><td>get</td> <td>返回Map中的指定元素</td></tr> <tr><td>has</td> <td>如果Map包含指定元素，则返回 true</td></tr> <tr><td>set</td> <td>添加一个新建元素到Map</td></tr> <tr><td>toString</td> <td>返回Map的字符串表示形式（序列化）</td></tr> <tr><td>valueOf</td> <td>返回指定对象的原始值</td></tr></tbody></table> <h4 id="array-set-map对比"><a href="#array-set-map对比" class="header-anchor">#</a> Array Set Map对比</h4> <table><thead><tr><th style="text-align:center;">类别</th> <th style="text-align:center;">Array</th> <th style="text-align:center;">Set</th> <th style="text-align:center;">Map</th></tr></thead> <tbody><tr><td style="text-align:center;">长度</td> <td style="text-align:center;">arr.length</td> <td style="text-align:center;">set.size</td> <td style="text-align:center;">map.size</td></tr> <tr><td style="text-align:center;">增</td> <td style="text-align:center;">arr.push(新增值)</td> <td style="text-align:center;">set.add(4)</td> <td style="text-align:center;">map.set('t', 1)</td></tr> <tr><td style="text-align:center;">删</td> <td style="text-align:center;">arr.splice(索引,删除数量)</td> <td style="text-align:center;">set.delete(2)</td> <td style="text-align:center;">map.delete('t')</td></tr> <tr><td style="text-align:center;">改</td> <td style="text-align:center;">arr.splice(索引,删除数量,[新增值])</td> <td style="text-align:center;">遍历</td> <td style="text-align:center;">map.set('t',2)</td></tr> <tr><td style="text-align:center;">查</td> <td style="text-align:center;">遍历</td> <td style="text-align:center;">set.has(1)</td> <td style="text-align:center;">map.has('t')</td></tr> <tr><td style="text-align:center;">清空</td> <td style="text-align:center;">arr = []</td> <td style="text-align:center;">set.clear()</td> <td style="text-align:center;">map.clear()</td></tr></tbody></table> <h4 id="array-set-map共同遍历方法"><a href="#array-set-map共同遍历方法" class="header-anchor">#</a> Array Set Map共同遍历方法</h4> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>keys()</td> <td>返回键名的遍历器</td></tr> <tr><td>values()</td> <td>返回键值的遍历器</td></tr> <tr><td>entries()</td> <td>返回键值对的遍历器</td></tr> <tr><td>forEach()</td> <td>使用回调函数遍历每个成员</td></tr></tbody></table> <h4 id="迭代器"><a href="#迭代器" class="header-anchor">#</a> 迭代器</h4> <p>用循环语句迭代数据时，必须要初始化一个变量来记录每一次迭代在数据集合中的位置，而在许多编程语言中，已经开始通过程序化的方式用<strong>迭代器对象</strong>返回迭代过程中集合的每一个元素。</p> <ul><li><p>迭代器（Iterator，又称遍历器）为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署Iterator，就可以完成遍历操作。</p></li> <li><p>Iterator的作用有三个：</p> <ol><li>为各种数据结构，提供一个统一的、简便的访问接口；</li> <li>使得数据结构的成员能够按某种次序排列；</li></ol></li> <li><p><strong>Array</strong>、<strong>Set</strong>、<strong>Map</strong>、<strong>String</strong>都是可迭代对象，它们的原型中都有一个Symbol.iterator方法，通过调用Symbol.iterator方法来获取默认迭代器，这一过程是在JavaScript引擎背后完成的。</p></li></ul> <h4 id="for-of-循环"><a href="#for-of-循环" class="header-anchor">#</a> for...of 循环</h4> <p>for...of是用来遍历带有迭代器对象的新语法：</p> <ul><li>for...of 用于遍历带有迭代器的对象：<strong>Array</strong>、<strong>Set</strong>、<strong>Map</strong>、<strong>String</strong></li> <li>for...of无法遍历<strong>Object</strong>对象</li> <li>与forEach()不同的是，它可以正确响应break、continue语句</li> <li>在of之前可以使用解构语法</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//遍历字符串：</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> <span class="token string">&quot;hxsd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//遍历set Map</span>
<span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//遍历value值：</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set_value:'</span><span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map_value<span class="token punctuation">:</span>'<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//遍历key值：</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set_keys:'</span><span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map_keys<span class="token punctuation">:</span>'<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//同时遍历key、value值，支持解构语句</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>val<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'entries:'</span><span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Set的键名和键值是同一个值，所以key()和values()行为是一致的</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>val<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'entries:'</span><span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/li-kang/WebNotes/edit/master/docs/notes/ES6/readme.md" target="_blank" rel="noopener noreferrer">维护文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">9/15/2020, 8:32:27 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.36f33a9d.js" defer></script><script src="/assets/js/2.d27f56d2.js" defer></script><script src="/assets/js/16.a660308b.js" defer></script>
  </body>
</html>