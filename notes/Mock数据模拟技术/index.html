<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mock数据模拟技术 | 技术学派</title>
    <meta name="description" content="Web前端技术、干货、教程、课程笔记">
    <link rel="icon" href="/favicon.ico">
  <meta name="robots" content="all">
  <meta name="author" content="likang">
  <meta name="keywords" content="Web全栈知识体系, web体系, web知识体系, web框架, web详解, web学习路线, web spring, web面试, 知识体系, web技术体系, web编程, web编程指南,web开发体系, web开发,web教程,web,web数据结构, 算法, 开发基础">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <script src="https://hm.baidu.com/hm.js?a2fd998a0322a08f10309f035d7009e1"></script>
    
    <link rel="preload" href="/assets/css/0.styles.c9eb7bf0.css" as="style"><link rel="preload" href="/assets/js/app.36f33a9d.js" as="script"><link rel="preload" href="/assets/js/2.d27f56d2.js" as="script"><link rel="preload" href="/assets/js/22.47eb5636.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e6c66a.js"><link rel="prefetch" href="/assets/js/11.29746d89.js"><link rel="prefetch" href="/assets/js/12.0605b152.js"><link rel="prefetch" href="/assets/js/13.3b6be312.js"><link rel="prefetch" href="/assets/js/14.e0cf0d42.js"><link rel="prefetch" href="/assets/js/15.86f20d18.js"><link rel="prefetch" href="/assets/js/16.a660308b.js"><link rel="prefetch" href="/assets/js/17.2c6ab243.js"><link rel="prefetch" href="/assets/js/18.e8ce1763.js"><link rel="prefetch" href="/assets/js/19.34c3af53.js"><link rel="prefetch" href="/assets/js/20.3fa7618a.js"><link rel="prefetch" href="/assets/js/21.4c157aad.js"><link rel="prefetch" href="/assets/js/23.cd435639.js"><link rel="prefetch" href="/assets/js/24.990a63e1.js"><link rel="prefetch" href="/assets/js/25.47122bec.js"><link rel="prefetch" href="/assets/js/26.05b4f7ae.js"><link rel="prefetch" href="/assets/js/27.9ab1d9bc.js"><link rel="prefetch" href="/assets/js/28.50943c3b.js"><link rel="prefetch" href="/assets/js/29.bd08d43b.js"><link rel="prefetch" href="/assets/js/3.2c8e19c4.js"><link rel="prefetch" href="/assets/js/30.cd670f1e.js"><link rel="prefetch" href="/assets/js/31.fc962975.js"><link rel="prefetch" href="/assets/js/32.16de1a8c.js"><link rel="prefetch" href="/assets/js/33.5331101e.js"><link rel="prefetch" href="/assets/js/34.1df38d3f.js"><link rel="prefetch" href="/assets/js/35.2e0c63f6.js"><link rel="prefetch" href="/assets/js/4.e3d63e9c.js"><link rel="prefetch" href="/assets/js/5.0fc728f0.js"><link rel="prefetch" href="/assets/js/6.596668dc.js"><link rel="prefetch" href="/assets/js/7.5a102747.js"><link rel="prefetch" href="/assets/js/8.53b312d6.js"><link rel="prefetch" href="/assets/js/9.0ec4f429.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9eb7bf0.css">   
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">技术学派</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">主线课程大纲</a></div><div class="nav-item"><a href="/techs.html" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/nav.html" class="nav-link">网站导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端编码规范" class="dropdown-title"><span class="title">前端编码规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rules/html.html" class="nav-link">HTML 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/css.html" class="nav-link">CSS 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/js.html" class="nav-link">JavaScript 编码规范</a></li><li class="dropdown-item"><!----> <a href="/specification.html" class="nav-link">文档编写规范</a></li></ul></div></div><div class="nav-item"><a href="/tips.html" class="nav-link">学习建议</a></div><div class="nav-item"><a href="/discuss.html" class="nav-link">留言</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">主线课程大纲</a></div><div class="nav-item"><a href="/techs.html" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/nav.html" class="nav-link">网站导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端编码规范" class="dropdown-title"><span class="title">前端编码规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rules/html.html" class="nav-link">HTML 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/css.html" class="nav-link">CSS 编码规范</a></li><li class="dropdown-item"><!----> <a href="/rules/js.html" class="nav-link">JavaScript 编码规范</a></li><li class="dropdown-item"><!----> <a href="/specification.html" class="nav-link">文档编写规范</a></li></ul></div></div><div class="nav-item"><a href="/tips.html" class="nav-link">学习建议</a></div><div class="nav-item"><a href="/discuss.html" class="nav-link">留言</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Mock数据模拟技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一章-mock简介" class="sidebar-link">第一章 Mock简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一节-安装" class="sidebar-link">第一节 安装</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二节-使用方式" class="sidebar-link">第二节 使用方式</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第三节-语法规范" class="sidebar-link">第三节 语法规范</a></li></ul></li><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二章-数据模板定义规范-dtd" class="sidebar-link">第二章 数据模板定义规范 DTD</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一节-数组-array" class="sidebar-link">第一节 数组 Array</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二节-数字-number" class="sidebar-link">第二节 数字 Number</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第三节-字符串-string" class="sidebar-link">第三节 字符串 String</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第四节-布尔型-boolean" class="sidebar-link">第四节 布尔型 Boolean</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第五节-对象-object" class="sidebar-link">第五节 对象 Object</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第六节-正则表达式-regexp" class="sidebar-link">第六节 正则表达式 RegExp</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第七节-函数-function" class="sidebar-link">第七节 函数 Function</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第八节-小结" class="sidebar-link">第八节 小结</a></li></ul></li><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第三章-数据占位符定义规范-dpd" class="sidebar-link">第三章 数据占位符定义规范 DPD</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一节-基本使用" class="sidebar-link">第一节 基本使用</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二节-引用内部变量" class="sidebar-link">第二节 引用内部变量</a></li></ul></li><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第四章-random-工具类" class="sidebar-link">第四章 Random 工具类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一节-使用方法" class="sidebar-link">第一节 使用方法</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二节-内置-random" class="sidebar-link">第二节 内置 Random</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第三节-扩展random" class="sidebar-link">第三节 扩展Random</a></li></ul></li><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第五章-模拟-api" class="sidebar-link">第五章 模拟 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第一节-实现客户端与服务端通信" class="sidebar-link">第一节 实现客户端与服务端通信</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第二节-拦截-api-请求" class="sidebar-link">第二节 拦截 API 请求</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第三节-响应时间配置" class="sidebar-link">第三节 响应时间配置</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#第四节-线上-mock-工具" class="sidebar-link">第四节 线上 Mock 工具</a></li></ul></li><li><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#实战" class="sidebar-link">实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#vue-项目" class="sidebar-link">Vue 项目</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#增删改查" class="sidebar-link">增删改查</a></li><li class="sidebar-sub-header"><a href="/notes/Mock%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F%E6%8A%80%E6%9C%AF/#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mock数据模拟技术"><a href="#mock数据模拟技术" class="header-anchor">#</a> Mock数据模拟技术</h1> <h2 id="第一章-mock简介"><a href="#第一章-mock简介" class="header-anchor">#</a> 第一章 Mock简介</h2> <p>Mock 用于生成 API 接口的模拟测试数据。优点是非常简单方便, 无侵入性, 基本覆盖常用的接口数据类型。</p> <ul><li>前后端分离：让前端攻城师独立于后端进行开发。</li> <li>开发无侵入：不需要修改既有代码，就可以拦截 Ajax 请求，返回模拟的响应数据。</li> <li>数据类型丰富：支持生成随机的文本、数字、布尔值、日期、邮箱、链接、图片、颜色等。</li> <li>方便扩展：支持支持扩展更多数据类型，支持自定义函数和正则。</li></ul> <h3 id="第一节-安装"><a href="#第一节-安装" class="header-anchor">#</a> 第一节 安装</h3> <p>使用npm安装: <code>npm install mockjs</code>;</p> <p>或直接 <code>&lt;script src=&quot;http://mockjs.com/dist/mock.js&quot;&gt;&lt;/script&gt;</code>;</p> <h3 id="第二节-使用方式"><a href="#第二节-使用方式" class="header-anchor">#</a> 第二节 使用方式</h3> <h4 id="生成数据"><a href="#生成数据" class="header-anchor">#</a> 生成数据</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>Mock.mock({&quot;dataname|rule&quot;:对应的值}) 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>参数是我们要模拟的数据，以及相应的规则，中间用|分开。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用 Mock</span>
<span class="token keyword">var</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 属性 list 的值是一个数组，其中含有 1 到 10 个元素</span>
    <span class="token string">'list|1-10'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token comment">// 属性 id 是一个自增数，起始值为 1，每次增 1</span>
        <span class="token string">'id|+1'</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用 Mock</span>
<span class="token keyword">var</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

  <span class="token string">&quot;userInfo|4&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>    <span class="token comment">//生成|num个如下格式名字的数据</span>
      <span class="token string">&quot;id|+1&quot;</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">//数字从当前数开始后续依次加一</span>
      <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;@cname&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//名字为随机中文名字</span>
      <span class="token string">&quot;ago|18-28&quot;</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">,</span>    <span class="token comment">//年龄为18-28之间的随机数字</span>
      <span class="token string">&quot;sex|1&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//性别是数组中的一个，随机的</span>
      <span class="token string">&quot;job|1&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;UI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;python&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;php&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//工作是数组中的一个</span>
			<span class="token string">&quot;img&quot;</span><span class="token punctuation">:</span>Mock<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token string">'200x100'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="第三节-语法规范"><a href="#第三节-语法规范" class="header-anchor">#</a> 第三节 语法规范</h3> <p>Mock.js 的语法规范包括两部分：</p> <ol><li>数据模板定义规范（Data Template Definition，DTD）</li> <li>数据占位符定义规范（Data Placeholder Definition，DPD）</li></ol> <h2 id="第二章-数据模板定义规范-dtd"><a href="#第二章-数据模板定义规范-dtd" class="header-anchor">#</a> 第二章 数据模板定义规范 DTD</h2> <p><strong>数据模板中的每个属性由 3 部分构成：属性名、生成规则、属性值：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 属性名   name</span>
<span class="token comment">// 生成规则 rule</span>
<span class="token comment">// 属性值   value</span>
<span class="token string">'name|rule'</span><span class="token punctuation">:</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><em>属性名</em> 和 <em>生成规则</em> 之间用竖线 <code>|</code> 分隔。</li> <li><em>生成规则</em> 是可选的。</li> <li><em>生成规则</em> 有 7 种格式：
<ol><li><code>'name|count': value</code></li> <li><code>'name|min-max': value</code></li> <li><code>'name|min-max.dmin-dmax': value</code></li> <li><code>'name|min-max.dcount': value</code></li> <li><code>'name|count.dmin-dmax': value</code></li> <li><code>'name|count.dcount': value</code></li> <li><code>'name|+step': value</code></li></ol></li> <li><strong>生成规则 的 含义 需要依赖 属性值的类型才能确定。</strong></li> <li><em>属性值</em> 中可以含有 <code>@占位符</code>。</li> <li><em>属性值</em> 还指定了最终值的初始值和类型。</li></ul> <h3 id="第一节-数组-array"><a href="#第一节-数组-array" class="header-anchor">#</a> 第一节 数组 Array</h3> <ol><li><p><code>'name|1': array</code></p> <p>从属性值 <code>array</code> 中随机选取 1 个元素，作为最终值。</p></li> <li><p><code>'name|+1': array</code></p> <p>从属性值 <code>array</code> 中顺序选取 1 个元素，作为最终值。</p></li> <li><p><code>'name|count': array</code></p> <p>通过重复属性值 <code>array</code> 生成一个新数组，重复次数为 <code>count</code>。</p></li> <li><p><code>'name|min-max': array</code></p> <p>通过重复属性值 <code>array</code> 生成一个新数组，重复次数大于等于 <code>min</code>，小于等于 <code>max</code>。</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Web前端'</span><span class="token punctuation">,</span>
    <span class="token string">'students|5-30'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'@cname'</span><span class="token punctuation">,</span> 
        <span class="token string">'constellation|1'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'白羊座'</span><span class="token punctuation">,</span> <span class="token string">'金牛座'</span><span class="token punctuation">,</span> <span class="token string">'双子座'</span><span class="token punctuation">,</span> <span class="token string">'巨蟹座'</span><span class="token punctuation">,</span> <span class="token string">'狮子座'</span><span class="token punctuation">,</span> <span class="token string">'室女座'</span><span class="token punctuation">,</span> <span class="token string">'天秤座'</span><span class="token punctuation">,</span> <span class="token string">'天蝎座'</span><span class="token punctuation">,</span> <span class="token string">'人马座'</span><span class="token punctuation">,</span> <span class="token string">'摩羯座'</span><span class="token punctuation">,</span> <span class="token string">'宝瓶座'</span><span class="token punctuation">,</span> <span class="token string">'双鱼座'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Web前端'</span><span class="token punctuation">,</span>
    <span class="token string">'students|24'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'@cname'</span><span class="token punctuation">,</span> 
        <span class="token string">'constellation|+1'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'白羊座'</span><span class="token punctuation">,</span> <span class="token string">'金牛座'</span><span class="token punctuation">,</span> <span class="token string">'双子座'</span><span class="token punctuation">,</span> <span class="token string">'巨蟹座'</span><span class="token punctuation">,</span> <span class="token string">'狮子座'</span><span class="token punctuation">,</span> <span class="token string">'室女座'</span><span class="token punctuation">,</span> <span class="token string">'天秤座'</span><span class="token punctuation">,</span> <span class="token string">'天蝎座'</span><span class="token punctuation">,</span> <span class="token string">'人马座'</span><span class="token punctuation">,</span> <span class="token string">'摩羯座'</span><span class="token punctuation">,</span> <span class="token string">'宝瓶座'</span><span class="token punctuation">,</span> <span class="token string">'双鱼座'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="第二节-数字-number"><a href="#第二节-数字-number" class="header-anchor">#</a> 第二节 数字 Number</h3> <ol><li><p><code>'name|+1': number</code></p> <p>属性值自动加 1，初始值为 <code>number</code>。</p></li> <li><p><code>'name|min-max': number</code></p> <p>生成一个大于等于 <code>min</code>、小于等于 <code>max</code> 的整数，属性值 <code>number</code> 只是用来确定类型。</p></li> <li><p><code>'name|min-max.dmin-dmax': number</code></p> <p>生成一个浮点数，整数部分大于等于 <code>min</code>、小于等于 <code>max</code>，小数部分保留 <code>dmin</code> 到 <code>dmax</code>位。</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Web前端'</span><span class="token punctuation">,</span>
    <span class="token string">'students|24'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">'id|+1'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'@cname'</span><span class="token punctuation">,</span> 
        <span class="token string">'constellation|1'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'白羊座'</span><span class="token punctuation">,</span> <span class="token string">'金牛座'</span><span class="token punctuation">,</span> <span class="token string">'双子座'</span><span class="token punctuation">,</span> <span class="token string">'巨蟹座'</span><span class="token punctuation">,</span> <span class="token string">'狮子座'</span><span class="token punctuation">,</span> <span class="token string">'室女座'</span><span class="token punctuation">,</span> <span class="token string">'天秤座'</span><span class="token punctuation">,</span> <span class="token string">'天蝎座'</span><span class="token punctuation">,</span> <span class="token string">'人马座'</span><span class="token punctuation">,</span> <span class="token string">'摩羯座'</span><span class="token punctuation">,</span> <span class="token string">'宝瓶座'</span><span class="token punctuation">,</span> <span class="token string">'双鱼座'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'age|18-50'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token string">'score|0-100.0-2'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="第三节-字符串-string"><a href="#第三节-字符串-string" class="header-anchor">#</a> 第三节 字符串 String</h3> <ol><li><p><code>'name|count': string</code></p> <p>通过重复 <code>string</code> 生成一个字符串，重复次数等于 <code>count</code>。</p></li> <li><p><code>'name|min-max': string</code></p> <p>通过重复 <code>string</code> 生成一个字符串，重复次数大于等于 <code>min</code>，小于等于 <code>max</code>。</p></li></ol> <h3 id="第四节-布尔型-boolean"><a href="#第四节-布尔型-boolean" class="header-anchor">#</a> 第四节 布尔型 Boolean</h3> <ol><li><p><code>'name|1': boolean</code></p> <p>随机生成一个布尔值，值为 true 的概率是 1/2，值为 false 的概率同样是 1/2。</p></li> <li><p><code>'name|min-max': value</code></p> <p>随机生成一个布尔值，值为 <code>value</code> 的概率是 <code>min / (min + max)</code>，值为 <code>!value</code> 的概率是 <code>max / (min + max)</code>。</p></li></ol> <h3 id="第五节-对象-object"><a href="#第五节-对象-object" class="header-anchor">#</a> 第五节 对象 Object</h3> <ol><li><p><code>'name|count': object</code></p> <p>从属性值 <code>object</code> 中随机选取 <code>count</code> 个属性。</p></li> <li><p><code>'name|min-max': object</code></p> <p>从属性值 <code>object</code> 中随机选取 <code>min</code> 到 <code>max</code> 个属性。</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'courses|3-6'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'语文|0-120'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">'数学|0-120'</span><span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
        <span class="token string">'计算机|0-120'</span><span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
        <span class="token string">'线性代数|0-120'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">'概率论|0-120'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">'计算机接口原理|0-120'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="第六节-正则表达式-regexp"><a href="#第六节-正则表达式-regexp" class="header-anchor">#</a> 第六节 正则表达式 RegExp</h3> <ol><li><p><code>'name': regexp</code></p> <p>根据正则表达式 <code>regexp</code> 反向生成可以匹配它的字符串。用于生成自定义格式的字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'regexp1'</span><span class="token punctuation">:</span> <span class="token regex">/[a-z][A-Z][0-9]/</span><span class="token punctuation">,</span>
    <span class="token string">'regexp2'</span><span class="token punctuation">:</span> <span class="token regex">/\w\W\s\S\d\D/</span><span class="token punctuation">,</span>
    <span class="token string">'regexp3'</span><span class="token punctuation">:</span> <span class="token regex">/\d{5,10}/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt;</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;regexp1&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;pJ7&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;regexp2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;F)\fp1G&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;regexp3&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;561659409&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol> <h3 id="第七节-函数-function"><a href="#第七节-函数-function" class="header-anchor">#</a> 第七节 函数 Function</h3> <ol><li><p><code>'name': function</code></p> <p>执行函数 <code>function</code>，取其返回值作为最终的属性值，函数的上下文为属性 <code>'name'</code> 所在的对象。function字段规则不起作用。</p></li></ol> <h3 id="第八节-小结"><a href="#第八节-小结" class="header-anchor">#</a> 第八节 小结</h3> <ul><li>DTD只能运用在json对象上，因为只有对象才有key。</li> <li>DTD能表达的规则有限。</li></ul> <p>常用规则总结如下：</p> <table><thead><tr><th>语法规则</th> <th>说明</th></tr></thead> <tbody><tr><td><code>'name|min-max': string</code></td> <td>通过重复 string 生成一个字符串，重复次数大于等于 min，小于等于 max</td></tr> <tr><td><code>'name|count': string</code></td> <td>通过重复 string 生成一个字符串，重复次数等于 count</td></tr> <tr><td><code>'name|min-max': number</code></td> <td>生成一个大于等于 min、小于等于 max 的整数，属性值 number 用来确定类型</td></tr> <tr><td><code>'name|+1': number</code></td> <td>初始值为 number，以后每次请求在前面的基础上+1</td></tr> <tr><td><code>'name|min-max.dmin-dmax': number</code></td> <td>生成一个浮点数，整数部分大于等于 min、小于等于 max，小数部分保留 dmin 到 dmax 位</td></tr> <tr><td><code>'name|1': boolean</code></td> <td>随机生成一个布尔值，值为 true 的概率是 1/2，值为 false 的概率同样是 1/2</td></tr> <tr><td><code>'name|count': object</code></td> <td>从属性值 object 中随机选取 count 个属性</td></tr> <tr><td><code>'name|min-max': object</code></td> <td>从属性值 object 中随机选取 min 到 max 个属性</td></tr> <tr><td><code>'name|1': array</code></td> <td>从属性值 array 中随机选取 1 个元素，作为最终值</td></tr> <tr><td><code>'name|+1': array</code></td> <td>从属性值 array 中按照顺序选取 1 个元素，作为最终值</td></tr> <tr><td><code>'name|count': array</code></td> <td>通过重复属性值 array 生成一个新数组，重复次数为 count</td></tr> <tr><td><code>'name|min-max': array</code></td> <td>通过重复属性值 array 生成一个新数组，重复次数大于等于 min，小于等于 max</td></tr></tbody></table> <p>简单举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token string">'bb'</span><span class="token punctuation">,</span><span class="token string">'cc'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
   <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'MountainC44'</span><span class="token punctuation">,</span>
   <span class="token string">'old'</span><span class="token punctuation">:</span><span class="token string">'23'</span><span class="token punctuation">,</span>
   <span class="token string">'sex'</span><span class="token punctuation">:</span><span class="token string">'man'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//数据模版简单举例</span>
<span class="token punctuation">{</span>
   <span class="token string">'firstName|3'</span><span class="token punctuation">:</span><span class="token string">'xue'</span><span class="token punctuation">,</span><span class="token comment">//重复fei这个字符串 3 次。</span>
   <span class="token string">'lastName|2-5'</span><span class="token punctuation">:</span><span class="token string">'yangbo'</span><span class="token punctuation">,</span><span class="token comment">//重复yangbo这个字符串 2-5 次。</span>
   <span class="token string">'index|+1'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//属性值自动加 1，初始值为 0</span>
   <span class="token string">'age|20-30'</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token comment">//生成一个大于等于 20、小于等于 30 的整数，属性值 25 只是用来确定类型</span>
   <span class="token string">'weight|100-120.2-5'</span><span class="token punctuation">:</span><span class="token number">110.24</span><span class="token punctuation">,</span><span class="token comment">//生成一个浮点数,整数部分大于等于 100、小于等于 120，小数部分保留 2 到 5 位。</span>
   <span class="token string">'likeMovie|1'</span><span class="token punctuation">:</span>Boolean<span class="token punctuation">,</span><span class="token comment">//随机生成一个布尔值，值为 true 的概率是 1/2，值为 false 的概率同样是 1/2。</span>
   <span class="token string">'friend1|1'</span><span class="token punctuation">:</span>arr<span class="token punctuation">,</span><span class="token comment">//从数组 arr 中随机选取 1 个元素，作为最终值。</span>
   <span class="token string">'friend2|+1'</span><span class="token punctuation">:</span>arr<span class="token punctuation">,</span><span class="token comment">//从属性值 arr 中顺序选取 1 个元素，作为最终值</span>
   <span class="token string">'friend3|2-3'</span><span class="token punctuation">:</span>arr<span class="token punctuation">,</span><span class="token comment">//通过重复属性值 arr 生成一个新数组，重复次数大于等于 2，小于等于 3。</span>
   <span class="token string">'obj1|2'</span><span class="token punctuation">:</span>obj<span class="token punctuation">,</span><span class="token comment">//从属性值 obj 中随机选取 2 个属性</span>
   <span class="token string">'obj2|1-2'</span><span class="token punctuation">:</span>obj<span class="token punctuation">,</span><span class="token comment">//从属性值 obj 中随机选取 1 到 2 个属性。</span>
   <span class="token string">'regexp1'</span><span class="token punctuation">:</span><span class="token regex">/^[a-z][A-Z][0-9]$/</span><span class="token punctuation">,</span><span class="token comment">//生成的符合正则表达式的字符串</span>
<span class="token punctuation">}</span>

<span class="token comment">//返回示例</span>
<span class="token punctuation">{</span>
   <span class="token string">'firstName'</span><span class="token punctuation">:</span><span class="token string">'xuexuexue'</span><span class="token punctuation">,</span>
   <span class="token string">'lastName'</span><span class="token punctuation">:</span><span class="token string">'yangboyangbo'</span><span class="token punctuation">,</span>
   <span class="token string">'index'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">28</span><span class="token punctuation">,</span>
   <span class="token string">'weight'</span><span class="token punctuation">:</span><span class="token number">115.223</span><span class="token punctuation">,</span>
   <span class="token string">'likeMovie'</span><span class="token punctuation">:</span>Boolean<span class="token punctuation">,</span>
   <span class="token string">'friend1'</span><span class="token punctuation">:</span><span class="token string">'bb'</span><span class="token punctuation">,</span>
   <span class="token string">'friend2'</span><span class="token punctuation">:</span><span class="token string">'aa'</span><span class="token punctuation">,</span>
   <span class="token string">'friend3|2-3'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token string">'bb'</span><span class="token punctuation">,</span><span class="token string">'cc'</span><span class="token punctuation">,</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token string">'bb'</span><span class="token punctuation">,</span><span class="token string">'cc'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token string">'obj1'</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'MountainC44'</span><span class="token punctuation">,</span><span class="token string">'old'</span><span class="token punctuation">:</span><span class="token string">'23'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">'obj2'</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'MountainC44'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">'regexp1'</span><span class="token punctuation">:</span><span class="token string">'sC2'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="第三章-数据占位符定义规范-dpd"><a href="#第三章-数据占位符定义规范-dpd" class="header-anchor">#</a> 第三章 数据占位符定义规范 DPD</h2> <h3 id="第一节-基本使用"><a href="#第一节-基本使用" class="header-anchor">#</a> 第一节 基本使用</h3> <p><em>占位符</em> 只是在属性值字符串中占个位置，并不出现在最终的属性值中。</p> <p><em>占位符</em> 的格式为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>@占位符
@<span class="token function">占位符</span><span class="token punctuation">(</span>参数 <span class="token punctuation">[</span><span class="token punctuation">,</span> 参数<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>用 <code>@</code> 来标识其后的字符串是 <em>占位符</em>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        first<span class="token punctuation">:</span> <span class="token string">'@FIRST'</span><span class="token punctuation">,</span>
        middle<span class="token punctuation">:</span> <span class="token string">'@FIRST'</span><span class="token punctuation">,</span>
        last<span class="token punctuation">:</span> <span class="token string">'@LAST'</span><span class="token punctuation">,</span>
        full<span class="token punctuation">:</span> <span class="token string">'@first @middle @last'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt;</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;first&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Charles&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;middle&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Brenda&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;last&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Lopez&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;full&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Charles Brenda Lopez&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="第二节-引用内部变量"><a href="#第二节-引用内部变量" class="header-anchor">#</a> 第二节 引用内部变量</h3> <ul><li><em>占位符</em> 也可以引用 <em>数据模板</em> 中的属性。</li> <li><em>占位符</em> 会优先引用 <em>数据模板</em> 中的属性。</li> <li><em>占位符</em> 支持 <em>相对路径</em> 和 <em>绝对路径</em>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'prop1'</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token string">'prop2'</span><span class="token punctuation">:</span> <span class="token string">'@prop1'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="第四章-random-工具类"><a href="#第四章-random-工具类" class="header-anchor">#</a> 第四章 Random 工具类</h2> <p>Random 是一个工具类，用于生成各种随机数据。</p> <h3 id="第一节-使用方法"><a href="#第一节-使用方法" class="header-anchor">#</a> 第一节 使用方法</h3> <p><strong>Random 的方法在数据模板中称为『占位符』，书写格式为 @占位符(参数 [, 参数]) 。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;n.clark@miller.io&quot;</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'@email'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;y.lee@lewis.org&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="第二节-内置-random"><a href="#第二节-内置-random" class="header-anchor">#</a> 第二节 内置 Random</h3> <p>Mock.Random 提供的完整方法（占位符）如下：</p> <table><thead><tr><th>Type</th> <th>Method</th></tr></thead> <tbody><tr><td>Basic</td> <td>boolean, natural, integer, float, character, string, range</td></tr> <tr><td>Date</td> <td>date, time, datetime, now</td></tr> <tr><td>Image</td> <td>image, dataImage</td></tr> <tr><td>Color</td> <td>color, hex, rgb, rgba, hsl</td></tr> <tr><td>Text</td> <td>paragraph, sentence, word, title, cparagraph, csentence, cword, ctitle</td></tr> <tr><td>Name</td> <td>first, last, name, cfirst, clast, cname</td></tr> <tr><td>Web</td> <td>url, domain, email, ip, tld</td></tr> <tr><td>Address</td> <td>region, province, city, county, zip</td></tr> <tr><td>Helper</td> <td>capitalize, upper, lower, pick, shuffle</td></tr> <tr><td>Miscellaneous</td> <td>guid, id, increment</td></tr></tbody></table> <p>更多测试实例可以到:<a href="http://mockjs.com/examples.html" target="_blank" rel="noopener noreferrer">《Mock 实例》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上查看。</p> <p>image中的size：100x200，注意使用的是<code>x</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//数据占位符使用</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;string|1-2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">//随机生成字符串</span>
  <span class="token string">&quot;integer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@integer(10, 30)&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//随机生成一个10～30之间的正整数</span>
  <span class="token string">&quot;float&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@float(60, 100, 2, 2)&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//随机生成浮点数，参数分别为整数部分最小值和最大值、小数部分保留最小位数和最大位数</span>
  <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@boolean&quot;</span><span class="token punctuation">,</span>       <span class="token comment">//随机生成boolean</span>
  <span class="token string">&quot;date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@date(yyyy-MM-dd)&quot;</span><span class="token punctuation">,</span> <span class="token comment">//按照格式随机生成时间</span>
  <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@datetime&quot;</span><span class="token punctuation">,</span>     <span class="token comment">//随机生成时间</span>
  <span class="token string">&quot;now&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@now&quot;</span><span class="token punctuation">,</span>               <span class="token comment">//当前时间</span>
  <span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@url&quot;</span><span class="token punctuation">,</span>               <span class="token comment">//随机生成url字符串</span>
  <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@email&quot;</span><span class="token punctuation">,</span>           <span class="token comment">//随机生成邮箱</span>
  <span class="token string">&quot;region&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@region&quot;</span><span class="token punctuation">,</span>         <span class="token comment">//随机生成地区</span>
  <span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@city&quot;</span><span class="token punctuation">,</span>             <span class="token comment">//随机生成城市</span>
  <span class="token string">&quot;province&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@province&quot;</span><span class="token punctuation">,</span>     <span class="token comment">//随机生成省会</span>
  <span class="token string">&quot;county&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@county&quot;</span><span class="token punctuation">,</span>         <span class="token comment">//随机生成一个（中国）县</span>
  <span class="token string">&quot;upper&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@upper(@title)&quot;</span><span class="token punctuation">,</span>   <span class="token comment">//把生随机成的标题全部转为大写</span>
  <span class="token string">&quot;guid&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@guid&quot;</span><span class="token punctuation">,</span>             <span class="token comment">//随机生成一个 GUID</span>
  <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@id&quot;</span><span class="token punctuation">,</span>                 <span class="token comment">//随机生成一个 18 位身份证</span>
  <span class="token string">&quot;image&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@image(200x200)&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//随机生成一个大小为200x200的图片链接</span>
  <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@title&quot;</span><span class="token punctuation">,</span>           <span class="token comment">//随机生成一句标题，其中每个单词的首字母大写</span>
  <span class="token string">&quot;cparagraph&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@cparagraph&quot;</span><span class="token punctuation">,</span> <span class="token comment">//随机生成一段中文文本</span>
  <span class="token string">&quot;csentence&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@csentence&quot;</span><span class="token punctuation">,</span>   <span class="token comment">//随机生成一段中文文本</span>
  <span class="token string">&quot;range&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;@range(2, 10)&quot;</span>     <span class="token comment">//返回一个内容从2开始到9的整型数组</span>
<span class="token punctuation">}</span>

<span class="token comment">//返回示例</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;string&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;A0L^Z&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;integer&quot;</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token string">&quot;float&quot;</span><span class="token punctuation">:</span> <span class="token number">82.23</span><span class="token punctuation">,</span>
  <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">&quot;date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1994-09-16&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1994-10-22 02:30:32&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;now&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2018-10-21 10:31:00&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;mailto://tfoyemmcy.as/ppm&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;f.lqdfggdy@wulqhmm.com&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;region&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;华南&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;茂名市&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;province&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;澳门特别行政区&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;county&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;和平区&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;upper&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;LGHV FJV FDHNA ZJQO MKQEPMY BYVPYMU JRUPL&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;guid&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;EdAD386E-eCB3-e054-fBd3-D4BCd58bF2Dd&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;630000201810081550&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;image&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http://dummyimage.com/200x200&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Powol Qhycsib Nvwf Bmiuvcek Ioisiu Sxdmrpdip&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;cparagraph&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;又平你大万被然红义她之影此属且。定圆光半条社已上实参规持备特战划。打第一在感革会属利小年往。认七单边济火国风风速次支比容争连劳。目叫织新百却又处思只名发这实。什济安这自空东认十需打现军应。&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;csentence&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;火事必该验导回声市然第别程确条状。&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;range&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="第三节-扩展random"><a href="#第三节-扩展random" class="header-anchor">#</a> 第三节 扩展Random</h3> <ul><li><em>占位符</em> 引用的是 <code>Mock.Random</code> 中的方法。</li> <li>通过 <code>Mock.Random.extend()</code> 来扩展自定义占位符。</li></ul> <p>Mock.Random 中的方法与数据模板的 <code>@占位符</code> 一一对应，在需要时还可以为 Mock.Random 扩展方法，然后在数据模板中通过 <code>@扩展方法</code> 引用。例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">constellation</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> constellations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'白羊座'</span><span class="token punctuation">,</span> <span class="token string">'金牛座'</span><span class="token punctuation">,</span> <span class="token string">'双子座'</span><span class="token punctuation">,</span> <span class="token string">'巨蟹座'</span><span class="token punctuation">,</span> <span class="token string">'狮子座'</span><span class="token punctuation">,</span> <span class="token string">'处女座'</span><span class="token punctuation">,</span> <span class="token string">'天秤座'</span><span class="token punctuation">,</span> <span class="token string">'天蝎座'</span><span class="token punctuation">,</span> <span class="token string">'射手座'</span><span class="token punctuation">,</span> <span class="token string">'摩羯座'</span><span class="token punctuation">,</span> <span class="token string">'水瓶座'</span><span class="token punctuation">,</span> <span class="token string">'双鱼座'</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>constellations<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Mock<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token function">constellation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;水瓶座&quot;</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'@CONSTELLATION'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;天蝎座&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="第五章-模拟-api"><a href="#第五章-模拟-api" class="header-anchor">#</a> 第五章 模拟 API</h2> <h3 id="第一节-实现客户端与服务端通信"><a href="#第一节-实现客户端与服务端通信" class="header-anchor">#</a> 第一节 实现客户端与服务端通信</h3> <ul><li>客户端代码与服务端代码都在服务器上。</li> <li>区别在于代码运行的位置，客户端代码会下载到客户端运行。</li></ul> <h3 id="第二节-拦截-api-请求"><a href="#第二节-拦截-api-请求" class="header-anchor">#</a> 第二节 拦截 API 请求</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span> rurl<span class="token operator">?</span><span class="token punctuation">,</span> rtype<span class="token operator">?</span><span class="token punctuation">,</span> template<span class="token operator">|</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>当拦截到匹配 <code>rurl</code> 和 <code>rtype</code> 的 Ajax 请求时，将根据数据模板 <code>template</code> 生成模拟数据，并作为响应数据返回。</p></li> <li><p>当拦截到匹配 <code>rurl</code> 和 <code>rtype</code> 的 Ajax 请求时，函数 <code>function(options)</code> 将被执行，并把执行结果作为响应数据返回。</p></li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">参数需求</th> <th style="text-align:center;">参数描述</th> <th style="text-align:center;">例子</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">可选: URL 字符串或 URL 正则</td> <td style="text-align:center;">拦截请求的地址</td> <td style="text-align:center;">/mock</td></tr> <tr><td style="text-align:center;">type</td> <td style="text-align:center;">可选</td> <td style="text-align:center;">拦截Ajax类型</td> <td style="text-align:center;">GET、POST</td></tr> <tr><td style="text-align:center;">template</td> <td style="text-align:center;">可选: 可以是对象或字符串</td> <td style="text-align:center;">生成数据的模板</td> <td style="text-align:center;"><code>{'data|1-10':['mock'] }</code>、<code>'@EMAIL'</code></td></tr></tbody></table> <h4 id="rurl"><a href="#rurl" class="header-anchor">#</a> rurl</h4> <p>表示需要拦截的 URL，可以是 URL 字符串或 URL 正则。例如 <code>/\/domain\/list\.json/</code>、<code>'/domian/list.json'</code>。</p> <h4 id="rtype"><a href="#rtype" class="header-anchor">#</a> rtype</h4> <p>表示需要拦截的 Ajax 请求类型。例如 <code>GET</code>、<code>POST</code>、<code>PUT</code>、<code>DELETE</code> 等。</p> <h4 id="template"><a href="#template" class="header-anchor">#</a> template</h4> <p>表示数据模板，可以是对象或字符串。例如 <code>{ 'data|1-10':[{}] }</code>、<code>'@EMAIL'</code>。</p> <h4 id="function-options"><a href="#function-options" class="header-anchor">#</a> function(options)</h4> <p>表示用于生成响应数据的函数。</p> <h5 id="options"><a href="#options" class="header-anchor">#</a> options</h5> <p>指向本次请求的 Ajax 选项集，含有 <code>url</code>、<code>type</code> 和 <code>body</code> 三个属性，参见 <a href="https://xhr.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">XMLHttpRequest 规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="第三节-响应时间配置"><a href="#第三节-响应时间配置" class="header-anchor">#</a> 第三节 响应时间配置</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span> settings <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置拦截 Ajax 请求时的行为。<code>settings配置项集合</code> 支持的配置项<code>timeout</code>用于指定被拦截的 Ajax 请求的响应时间，单位是毫秒。值可以是正整数，例如 <code>400</code>，表示 400 毫秒 后才会返回响应内容；也可以是横杠 <code>'-'</code> 风格的字符串，例如 <code>'200-600'</code>，表示响应时间介于 200 和 600 毫秒之间。默认值是<code>'10-100'</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Mock<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    timeout<span class="token punctuation">:</span> <span class="token number">400</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Mock<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    timeout<span class="token punctuation">:</span> <span class="token string">'200-600'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="第四节-线上-mock-工具"><a href="#第四节-线上-mock-工具" class="header-anchor">#</a> 第四节 线上 Mock 工具</h3> <ul><li>EasyMock <a href="https://easy-mock.com/" target="_blank" rel="noopener noreferrer">https://easy-mock.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="实战"><a href="#实战" class="header-anchor">#</a> 实战</h2> <h3 id="vue-项目"><a href="#vue-项目" class="header-anchor">#</a> Vue 项目</h3> <h3 id="增删改查"><a href="#增删改查" class="header-anchor">#</a> 增删改查</h3> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <p><a href="https://www.cnblogs.com/soyxiaobi/p/9846057.html" target="_blank" rel="noopener noreferrer">正确开启Mockjs的三种姿势：入门参考（一）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://blog.csdn.net/xiaoxiaojie12321/article/details/81301399" target="_blank" rel="noopener noreferrer">优雅地搭配node<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/li-kang/WebNotes/edit/master/docs/notes/Mock数据模拟技术/readme.md" target="_blank" rel="noopener noreferrer">维护文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">9/15/2020, 8:32:27 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.36f33a9d.js" defer></script><script src="/assets/js/2.d27f56d2.js" defer></script><script src="/assets/js/22.47eb5636.js" defer></script>
  </body>
</html>